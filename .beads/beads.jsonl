{"id":"turbokit-0l5","title":"Update root package.json.template with convenience scripts","description":"## Task\nAdd convenience scripts to root package.json for common development workflows.\n\n## File Location\ntemplates/root/package.json.template\n\n## Current State (for reference)\n```json\n{\n  \"name\": \"{{projectName}}\",\n  \"private\": true,\n  \"packageManager\": \"bun@1.1.43\",\n  \"workspaces\": [\"apps/*\", \"packages/*\"],\n  \"scripts\": {\n    \"dev\": \"turbo dev\",\n    \"build\": \"turbo build\",\n    \"lint\": \"turbo lint\",\n    \"test\": \"turbo test\",\n    \"typecheck\": \"turbo typecheck\",\n    \"ci\": \"turbo lint typecheck test build\",\n    \"prepare\": \"husky install\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"{{eslintVersion}}\",\n    \"husky\": \"{{huskyVersion}}\",\n    \"prettier\": \"{{prettierVersion}}\",\n    \"turbo\": \"{{turboVersion}}\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Scripts to Add\n```json\n{\n  \"scripts\": {\n    \"dev:api\": \"turbo dev --filter=@{{scope}}/api\",\n    \"dev:web\": \"turbo dev --filter=@{{scope}}/web\",\n    \"dev:mobile\": \"turbo dev --filter={{projectName}}-mobile\",\n    \"deploy:api\": \"turbo deploy --filter=@{{scope}}/api\"\n  }\n}\n```\n\n## Implementation Notes\n- These scripts are **in addition to** existing scripts\n- Filter patterns must match package names exactly:\n  - API: `@{{scope}}/api` (scoped, as defined in apps/api/package.json.template)\n  - Web: `@{{scope}}/web` (scoped, as defined in apps/web/package.json.template)\n  - Mobile: `{{projectName}}-mobile` (NOT scoped, as defined in apps/mobile/package.json.template)\n\n**Important**: The mobile package name uses `{{projectName}}-mobile` format (not scoped), which matches the current template at apps/mobile/package.json.template.\n\n## Conditional Generation\nScripts should only be added when corresponding modules are selected:\n- `dev:api` and `deploy:api`: Only when API module selected\n- `dev:web`: Only when web module selected\n- `dev:mobile`: Only when mobile module selected\n\n**Note**: This requires the generator to support conditional script injection, which may be handled similarly to conditional dependencies (see turbokit-cxy).\n\n## Full Updated package.json.template (showing additions)\n```json\n{\n  \"name\": \"{{projectName}}\",\n  \"private\": true,\n  \"packageManager\": \"bun@1.1.43\",\n  \"workspaces\": [\"apps/*\", \"packages/*\"],\n  \"scripts\": {\n    \"dev\": \"turbo dev\",\n    \"dev:api\": \"turbo dev --filter=@{{scope}}/api\",\n    \"dev:web\": \"turbo dev --filter=@{{scope}}/web\",\n    \"dev:mobile\": \"turbo dev --filter={{projectName}}-mobile\",\n    \"build\": \"turbo build\",\n    \"lint\": \"turbo lint\",\n    \"test\": \"turbo test\",\n    \"typecheck\": \"turbo typecheck\",\n    \"ci\": \"turbo lint typecheck test build\",\n    \"deploy:api\": \"turbo deploy --filter=@{{scope}}/api\",\n    \"prepare\": \"husky install\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"{{eslintVersion}}\",\n    \"husky\": \"{{huskyVersion}}\",\n    \"prettier\": \"{{prettierVersion}}\",\n    \"turbo\": \"{{turboVersion}}\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Usage Examples\n```bash\n# Start all apps\nbun run dev\n\n# Start only the API\nbun run dev:api\n\n# Deploy API to Cloudflare\nbun run deploy:api\n```\n\n## Acceptance Criteria\n- [ ] All convenience scripts added with correct filter patterns\n- [ ] Filter patterns match actual package names in templates\n- [ ] Mobile filter uses {{projectName}}-mobile (not scoped)\n- [ ] Scripts conditional on module selection (implementation TBD)\n- [ ] Valid JSON syntax\n- [ ] Existing scripts preserved","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:49:07.92593-06:00","updated_at":"2025-12-07T14:16:31.56573-06:00","closed_at":"2025-12-07T14:16:31.56573-06:00","dependencies":[{"issue_id":"turbokit-0l5","depends_on_id":"turbokit-qdp","type":"blocks","created_at":"2025-12-07T13:49:07.927322-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-0ok","title":"Create mobile app.config.ts.template to replace app.json","description":"## Task\nCreate app.config.ts template to replace the static app.json, enabling environment variable support.\n\n## File Location\ntemplates/apps/mobile/app.config.ts.template\n\n## Template Content\n```typescript\nimport \"dotenv/config\";\nimport { ExpoConfig, ConfigContext } from \"expo/config\";\n\nexport default ({ config }: ConfigContext): ExpoConfig =\u003e ({\n  ...config,\n  name: \"{{projectName}}\",\n  slug: \"{{projectName}}\",\n  version: \"1.0.0\",\n  orientation: \"portrait\",\n  icon: \"./assets/icon.png\",\n  userInterfaceStyle: \"light\",\n  newArchEnabled: true,\n  splash: {\n    image: \"./assets/splash-icon.png\",\n    resizeMode: \"contain\",\n    backgroundColor: \"#ffffff\",\n  },\n  ios: {\n    supportsTablet: true,\n  },\n  android: {\n    adaptiveIcon: {\n      foregroundImage: \"./assets/adaptive-icon.png\",\n      backgroundColor: \"#ffffff\",\n    },\n  },\n  web: {\n    favicon: \"./assets/favicon.png\",\n  },\n  extra: {\n    apiUrl: process.env.API_URL ?? \"http://localhost:3001\",\n  },\n});\n```\n\n## Why app.config.ts Instead of app.json?\n\n### The Problem\n- `app.json` is static JSON - cannot read environment variables\n- We need `API_URL` to be configurable for dev/staging/prod\n\n### The Solution\n- `app.config.ts` is a TypeScript config that runs at build time\n- Can read `process.env` and compute values\n- `dotenv/config` import loads `.env` file automatically\n\n### How API_URL Flows\n```\n.env file\n    │ contains: API_URL=http://...\n    ▼\napp.config.ts\n    │ import \"dotenv/config\" loads .env\n    │ reads process.env.API_URL\n    │ puts it in extra.apiUrl\n    ▼\nsrc/config/env.ts\n    │ reads Constants.expoConfig?.extra?.apiUrl\n    │ uses platform-aware fallback if not set\n    ▼\nAPI client uses the URL\n```\n\n## The extra Field\n- `extra` is a special Expo field for custom runtime configuration\n- Read at runtime via `expo-constants` package\n- Survives the build process (unlike process.env)\n\n## Always Generated\nThis file is always generated (replaces app.json).\nEven without API module, app.config.ts provides flexibility for future configuration needs.\n\n## Migration Note\nThe generator should:\n1. NOT copy app.json.template anymore\n2. Copy app.config.ts.template instead\n3. Strip .template suffix to produce app.config.ts\n\n## Acceptance Criteria\n- [ ] Valid TypeScript syntax\n- [ ] Imports dotenv/config for env var support\n- [ ] Uses ExpoConfig types from expo/config\n- [ ] Spreads base config for flexibility\n- [ ] Includes extra.apiUrl with env var fallback\n- [ ] All required Expo config fields present\n- [ ] Uses double quotes (project style)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:48:09.066064-06:00","updated_at":"2025-12-07T14:16:23.191565-06:00","closed_at":"2025-12-07T14:16:23.191565-06:00","dependencies":[{"issue_id":"turbokit-0ok","depends_on_id":"turbokit-azw","type":"blocks","created_at":"2025-12-07T13:48:09.068077-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-11a","title":"Implement config validation (src/generator/validate.ts)","description":"## Task\nImplement configuration validation to catch errors before generation begins.\n\n## Validations\n1. **Project name**\n   - Must be valid npm package name\n   - Kebab-case only\n   - No leading dots or underscores\n\n2. **Project path**\n   - Must be valid filesystem path\n   - If exists and not empty: error (unless --force)\n   - Parent directory must exist\n\n3. **Module selection**\n   - At least one app module required (web, mobile, api, or storybook)\n   - Storybook requires UI package (warn if ui=false)\n\n4. **Dependencies between modules**\n   - UI package is optional but recommended with web/storybook\n\n## Implementation Notes\n- Return array of validation errors\n- Include helpful fix suggestions\n- Check filesystem before validation\n\n## File Location\nsrc/generator/validate.ts\n\n## Signature\n```typescript\ninterface ValidationError {\n  field: string;\n  message: string;\n  suggestion?: string;\n}\n\nasync function validateConfig(config: ProjectConfig, flags: CLIFlags): Promise\u003cValidationError[]\u003e;\n```\n\n## Acceptance Criteria\n- [ ] Invalid project names caught\n- [ ] Existing non-empty dirs caught\n- [ ] Empty module selection caught\n- [ ] Returns helpful error messages","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:06.694191-06:00","updated_at":"2025-11-26T22:26:12.685314-06:00","closed_at":"2025-11-26T22:26:12.685314-06:00","dependencies":[{"issue_id":"turbokit-11a","depends_on_id":"turbokit-8fa","type":"blocks","created_at":"2025-11-26T21:40:06.69588-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-11m","title":"Phase 2: Shared API Client Package","description":"## Overview\nCreate the shared @scope/api-client package that provides typed API access via Hono RPC.\n\n## Scope\n- Create client.ts with Hono RPC client factory\n- Create hooks.ts with TanStack Query hook factory\n- Create index.ts with public exports\n- Create package.json with dependencies\n- Create tsconfig.json extending base config\n\n## Why a Shared Package?\n- **Single source of truth**: API client logic defined once, used by web and mobile\n- **Type safety**: Types flow from API → api-client → consuming apps\n- **Consistency**: Same hooks API for web and mobile developers\n- **Testability**: Client logic can be unit tested independently\n\n## Architecture\n\n### client.ts\n```\ncreateApiClient(baseUrl) → Hono RPC Client\n```\nFactory that creates typed client for any base URL.\n\n### hooks.ts  \n```\ncreateApiHooks(client) → { useHealth, ... }\n```\nFactory that creates TanStack Query hooks using the client.\n\n### Why Two Factories?\nDifferent platforms configure the base URL differently:\n- **Web**: From environment variable\n- **Mobile**: From platform-aware helper (iOS vs Android localhost)\n\nThe client factory accepts the URL, then the hooks factory accepts the client.\nThis keeps the hooks platform-agnostic.\n\n## Child Tasks (Execute In Order)\n1. **turbokit-ove**: Create client.ts.template\n   - Hono RPC client factory\n   - Re-exports AppType\n\n2. **turbokit-7d7**: Create hooks.ts.template\n   - TanStack Query hook factory\n   - useHealth example hook\n\n3. **turbokit-2yd**: Create index.ts.template\n   - Public exports\n\n4. **turbokit-moa**: Create package.json.template\n   - Dependencies: hono, @tanstack/react-query\n   - Workspace deps: @scope/api, @scope/config\n\n5. **turbokit-l2v**: Create tsconfig.json.template\n   - Extends @scope/config/tsconfig.base.json\n\n## Type Flow Diagram\n```\n@scope/api\n    │ exports: type AppType = typeof app\n    ▼\n@scope/api-client\n    │ imports AppType, creates typed client\n    │ exports: createApiClient, createApiHooks, types\n    ▼\napps/web \u0026 apps/mobile\n    │ import hooks, call API with full type safety\n    ▼\nTypeScript catches errors at compile time!\n```\n\n## Dependencies\n- Depends on Phase 1 (turbokit-zuk): API must export AppType\n\n## Success Criteria\n- [ ] Package compiles without errors\n- [ ] Types flow from API through to hooks\n- [ ] Hooks work with TanStack Query\n- [ ] Package exports documented","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:45:29.644942-06:00","updated_at":"2025-12-07T14:13:05.518243-06:00","closed_at":"2025-12-07T14:13:05.518243-06:00"}
{"id":"turbokit-1ae","title":"Create config package eslint-config-custom.cjs","description":"## Task\nCreate the shared ESLint configuration for the monorepo.\n\n## File to Create\ntemplates/packages/config/eslint-config-custom.cjs\n\n## Configuration\n```javascript\nmodule.exports = {\n  root: true,\n  env: {\n    browser: true,\n    es2022: true,\n    node: true,\n  },\n  extends: [\n    'eslint:recommended',\n  ],\n  parserOptions: {\n    ecmaVersion: 'latest',\n    sourceType: 'module',\n  },\n  rules: {\n    'no-unused-vars': ['error', { argsIgnorePattern: '^_' }],\n    'no-console': 'warn',\n  },\n  overrides: [\n    {\n      files: ['*.ts', '*.tsx'],\n      parser: '@typescript-eslint/parser',\n      extends: [\n        'plugin:@typescript-eslint/recommended',\n      ],\n      rules: {\n        '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],\n        '@typescript-eslint/explicit-function-return-type': 'off',\n      },\n    },\n    {\n      files: ['*.tsx'],\n      extends: [\n        'plugin:react/recommended',\n        'plugin:react-hooks/recommended',\n      ],\n      settings: {\n        react: { version: 'detect' },\n      },\n      rules: {\n        'react/react-in-jsx-scope': 'off',\n      },\n    },\n  ],\n};\n```\n\n## Usage in Apps\n```javascript\n// apps/web/.eslintrc.cjs\nmodule.exports = {\n  extends: ['@{{scope}}/config/eslint-config-custom'],\n};\n```\n\n## Acceptance Criteria\n- [ ] Config exports correctly as CJS\n- [ ] Works with TypeScript files\n- [ ] Works with React/JSX files\n- [ ] Apps can extend this config","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:35.529178-06:00","updated_at":"2025-11-26T23:00:54.947409-06:00","closed_at":"2025-11-26T23:00:54.947409-06:00","dependencies":[{"issue_id":"turbokit-1ae","depends_on_id":"turbokit-5ml","type":"related","created_at":"2025-11-26T21:40:35.531051-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-1ae","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:35.531661-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-1vl","title":"Update web package.json.template with TanStack Query dependencies","description":"## Task\nUpdate the web package.json template to include TanStack Query dependencies, with conditional api-client dependency.\n\n## File Location\ntemplates/apps/web/package.json.template\n\n## Current State (actual file content)\n```json\n{\n  \"name\": \"@{{scope}}/web\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\",\n    \"test\": \"vitest run\",\n    \"lint\": \"eslint src\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@{{scope}}/config\": \"workspace:*\",\n    \"@types/react\": \"^18.2.0\",\n    \"@types/react-dom\": \"^18.2.0\",\n    \"@vitejs/plugin-react\": \"^4.2.0\",\n    \"@testing-library/react\": \"^14.1.0\",\n    \"@testing-library/jest-dom\": \"^6.1.0\",\n    \"jsdom\": \"^23.0.0\",\n    \"typescript\": \"{{typescriptVersion}}\",\n    \"vite\": \"^5.0.0\",\n    \"vitest\": \"^1.0.0\"\n  }\n}\n```\n\n## Dependencies to Add (ALWAYS)\n```json\n{\n  \"dependencies\": {\n    \"@tanstack/react-query\": \"^5.62.0\"\n  },\n  \"devDependencies\": {\n    \"@tanstack/react-query-devtools\": \"^5.62.0\"\n  }\n}\n```\n\n## Dependencies to Add (ONLY when API selected)\n```json\n{\n  \"dependencies\": {\n    \"@{{scope}}/api-client\": \"workspace:*\"\n  }\n}\n```\n\n## Full package.json (WITH API)\n```json\n{\n  \"name\": \"@{{scope}}/web\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\",\n    \"test\": \"vitest run\",\n    \"lint\": \"eslint src\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"@{{scope}}/api-client\": \"workspace:*\",\n    \"@tanstack/react-query\": \"^5.62.0\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@{{scope}}/config\": \"workspace:*\",\n    \"@tanstack/react-query-devtools\": \"^5.62.0\",\n    \"@types/react\": \"^18.2.0\",\n    \"@types/react-dom\": \"^18.2.0\",\n    \"@vitejs/plugin-react\": \"^4.2.0\",\n    \"@testing-library/react\": \"^14.1.0\",\n    \"@testing-library/jest-dom\": \"^6.1.0\",\n    \"jsdom\": \"^23.0.0\",\n    \"typescript\": \"{{typescriptVersion}}\",\n    \"vite\": \"^5.0.0\",\n    \"vitest\": \"^1.0.0\"\n  }\n}\n```\n\n## Implementation Notes\n- TanStack Query always added (useful for any async state)\n- DevTools always added (tree-shaken in production builds)\n- api-client dependency only when API module selected\n- Package name is scoped: `@{{scope}}/web` (matches existing template)\n\n## Implementation Options\n1. **Template Variants**: Create package.json.template and package.with-api.json.template\n2. **Conditional Injection**: Post-process the generated package.json to add deps\n\nOption 1 (variants) is simpler and consistent with App.tsx approach.\n\n## Acceptance Criteria\n- [ ] @tanstack/react-query in dependencies (always)\n- [ ] @tanstack/react-query-devtools in devDependencies (always)\n- [ ] @{{scope}}/api-client conditional on API selection\n- [ ] Valid JSON syntax\n- [ ] Preserves existing dependencies and scripts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:47:14.578026-06:00","updated_at":"2025-12-07T14:16:14.856894-06:00","closed_at":"2025-12-07T14:16:14.856894-06:00","dependencies":[{"issue_id":"turbokit-1vl","depends_on_id":"turbokit-dzb","type":"blocks","created_at":"2025-12-07T13:47:14.579839-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-1vl","depends_on_id":"turbokit-52e","type":"blocks","created_at":"2025-12-07T13:47:14.580777-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-2jr","title":"Implement git init with initial commit (src/generator/initGit.ts)","description":"## Task\nImplement git repository initialization with an initial commit.\n\n## API Design\n```typescript\ninterface GitOptions {\n  cwd: string;          // Project directory\n  projectName: string;  // For commit message\n  verbose: boolean;\n  logger: Logger;\n}\n\nasync function initGit(options: GitOptions): Promise\u003cvoid\u003e;\n```\n\n## Implementation Steps\n1. Check if .git already exists (skip if so)\n2. Run `git init`\n3. Run `git add .`\n4. Run `git commit -m \"Initial commit from create-project\"`\n\n## Commit Message\n\"Initial commit from create-project\"\n\nOr more detailed:\n\"chore: initialize {{projectName}} monorepo\n\nGenerated with create-project CLI\"\n\n## Error Handling\n- Check if git is installed\n- If git not installed, warn but don't fail\n- Handle case where directory is already a git repo\n\n## File Location\nsrc/generator/initGit.ts\n\n## Acceptance Criteria\n- [ ] Git repo initialized\n- [ ] All files committed\n- [ ] Clean working directory after init\n- [ ] Graceful if git not installed","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:43.335378-06:00","updated_at":"2025-11-26T23:09:40.272706-06:00","closed_at":"2025-11-26T23:09:40.272706-06:00","dependencies":[{"issue_id":"turbokit-2jr","depends_on_id":"turbokit-dz8","type":"related","created_at":"2025-11-26T21:40:43.337058-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-2jr","depends_on_id":"turbokit-uxl","type":"blocks","created_at":"2025-11-26T21:40:43.337642-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-2jr","depends_on_id":"turbokit-paa","type":"blocks","created_at":"2025-11-26T21:49:09.096253-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-2mq","title":"Publishing \u0026 Distribution - npm packaging and global CLI support","description":"## Overview\nPrepare the CLI for npm publishing so users can run it via `bunx create-project` or install globally.\n\n## Scope\n\n### Package Configuration\n- package.json fields: name, version, description, bin, main, files, repository, keywords\n- bin field pointing to compiled entry point\n- files array including only necessary dist files and templates\n\n### Build Setup\n- TypeScript compilation to dist/\n- Preserve templates directory (not compiled)\n- Source maps for debugging\n\n### Executable Setup\n- Shebang line: #!/usr/bin/env bun\n- chmod +x on bin file\n- Test both `bunx` and global install paths\n\n### Documentation\n- README.md with installation and usage instructions\n- Examples for all flags\n- Troubleshooting section\n\n### Testing\n- E2E test: generate project, run bun install, run bun build\n- Verify all selected modules are present\n- Test with different flag combinations\n\n## Publishing Checklist\n- [ ] npm login\n- [ ] npm publish --access public\n- [ ] Verify bunx create-project works\n- [ ] Verify global install works\n\n## Dependencies\n- Requires: All other epics complete\n- Requires: Full E2E testing passes\n\n## Success Criteria\n- `bunx create-project --name test-proj --yes` generates working project\n- `npm install -g create-project \u0026\u0026 create-project` works\n- Generated project passes all CI checks","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:39:51.194574-06:00","updated_at":"2025-11-26T23:26:29.657114-06:00","closed_at":"2025-11-26T23:26:29.657114-06:00"}
{"id":"turbokit-2uk","title":"Create web QueryProvider.tsx.template with React Query setup","description":"## Task\nCreate the QueryProvider component that wraps the web app with TanStack Query context.\n\n## File Location\ntemplates/apps/web/src/providers/QueryProvider.tsx.template\n\n## Template Content\n```typescript\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { ReactNode, useState } from 'react';\n\ninterface QueryProviderProps {\n  children: ReactNode;\n}\n\nexport function QueryProvider({ children }: QueryProviderProps) {\n  const [queryClient] = useState(\n    () =\u003e\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 1000 * 60, // 1 minute\n            retry: 2,\n          },\n        },\n      })\n  );\n\n  return (\n    \u003cQueryClientProvider client={queryClient}\u003e\n      {children}\n      \u003cReactQueryDevtools initialIsOpen={false} /\u003e\n    \u003c/QueryClientProvider\u003e\n  );\n}\n```\n\n## Implementation Notes\n- useState for QueryClient prevents re-creation on re-renders\n- staleTime of 1 minute reduces unnecessary refetches\n- retry: 2 provides resilience without excessive retries\n- DevTools included but closed by default\n\n## Why useState for QueryClient\nCreating QueryClient inside useState ensures it's only created once per component lifecycle, even in StrictMode (which double-invokes render).\n\n## Always Generated\nThis file is always generated, even without API module, because TanStack Query is useful for any async data fetching (not just our API).\n\n## Acceptance Criteria\n- [ ] QueryClient created with sensible defaults\n- [ ] DevTools included for development\n- [ ] Proper TypeScript types\n- [ ] Uses useState pattern for client creation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:31.749588-06:00","updated_at":"2025-12-07T14:16:10.181367-06:00","closed_at":"2025-12-07T14:16:10.181367-06:00","dependencies":[{"issue_id":"turbokit-2uk","depends_on_id":"turbokit-11m","type":"blocks","created_at":"2025-12-07T13:46:31.75109-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-2yd","title":"Create api-client/src/index.ts.template with public exports","description":"## Task\nCreate the public API barrel file for the api-client package.\n\n## File Location\ntemplates/packages/api-client/src/index.ts.template\n\n## Template Content\n```typescript\nexport { createApiClient, type ApiClient, type AppType } from './client';\nexport { createApiHooks } from './hooks';\n```\n\n## What's Exported\n- `createApiClient`: Factory to create typed HTTP client\n- `ApiClient`: Type of the created client\n- `AppType`: Re-exported API type (convenience)\n- `createApiHooks`: Factory to create TanStack Query hooks\n\n## Usage by Consuming Apps\n```typescript\nimport { createApiClient, createApiHooks } from '@scope/api-client';\n\nconst api = createApiClient('http://localhost:3001');\nconst hooks = createApiHooks(api);\n```\n\n## Acceptance Criteria\n- [ ] Exports all public API\n- [ ] Uses explicit named exports (no default)\n- [ ] Types are exported with `type` keyword for tree-shaking","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:57.433395-06:00","updated_at":"2025-12-07T14:12:57.656942-06:00","closed_at":"2025-12-07T14:12:57.656942-06:00","dependencies":[{"issue_id":"turbokit-2yd","depends_on_id":"turbokit-ove","type":"blocks","created_at":"2025-12-07T13:45:57.435305-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-2yd","depends_on_id":"turbokit-7d7","type":"blocks","created_at":"2025-12-07T13:45:57.436276-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-375","title":"Setup CLI project structure (bin/, src/, package.json, tsconfig.json)","description":"## Task\nCreate the initial CLI project structure with all necessary directories and configuration files.\n\n## Files to Create\n```\ncreate-project/\n  bin/\n    create-project.ts (placeholder with shebang)\n  src/\n    index.ts (placeholder export)\n    cli/\n    generator/\n    config/\n    types/\n    utils/\n  templates/\n  package.json\n  tsconfig.json\n```\n\n## package.json Requirements\n- name: \"create-project\" (or scoped name)\n- type: \"module\"\n- scripts: dev, build, typecheck, lint\n- dependencies: (to be filled in later tasks)\n- devDependencies: typescript, @types/bun\n\n## tsconfig.json Requirements\n- target: ESNext\n- module: ESNext\n- moduleResolution: bundler\n- strict: true\n- outDir: ./dist\n- rootDir: ./\n\n## Acceptance Criteria\n- [ ] All directories exist\n- [ ] package.json is valid JSON with required fields\n- [ ] tsconfig.json compiles without errors\n- [ ] `bun run typecheck` passes (even with empty files)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:55.62956-06:00","updated_at":"2025-11-26T22:11:57.497406-06:00","closed_at":"2025-11-26T22:11:57.497406-06:00"}
{"id":"turbokit-385","title":"Implement template variant selection (with-api vs without-api)","description":"## Task\nAdd logic to select the correct template variant based on module selection.\n\n## File Location\nsrc/generator/copyTemplate.ts (extend existing) or new file src/generator/templateVariants.ts\n\n## Implementation Design\n\n### Template Variant Registry\n```typescript\ninterface TemplateVariant {\n  // The output file path in the generated project (relative, without .template)\n  outputPath: string;\n  // Template to use when condition is FALSE\n  defaultTemplate: string;\n  // Template to use when condition is TRUE\n  variantTemplate: string;\n  // Condition to check\n  condition: (modules: ModuleSelection) =\u003e boolean;\n}\n\nconst templateVariants: TemplateVariant[] = [\n  // Web App.tsx\n  {\n    outputPath: \"apps/web/src/App.tsx\",\n    defaultTemplate: \"apps/web/src/App.tsx.template\",\n    variantTemplate: \"apps/web/src/App.with-api.tsx.template\",\n    condition: (m) =\u003e m.api,\n  },\n  // Mobile App.tsx\n  {\n    outputPath: \"apps/mobile/App.tsx\",\n    defaultTemplate: \"apps/mobile/App.tsx.template\",\n    variantTemplate: \"apps/mobile/App.with-api.tsx.template\",\n    condition: (m) =\u003e m.api,\n  },\n  // Web package.json (if using variant approach for dependencies)\n  {\n    outputPath: \"apps/web/package.json\",\n    defaultTemplate: \"apps/web/package.json.template\",\n    variantTemplate: \"apps/web/package.with-api.json.template\",\n    condition: (m) =\u003e m.api,\n  },\n  // Mobile package.json (if using variant approach for dependencies)\n  {\n    outputPath: \"apps/mobile/package.json\",\n    defaultTemplate: \"apps/mobile/package.json.template\",\n    variantTemplate: \"apps/mobile/package.with-api.json.template\",\n    condition: (m) =\u003e m.api,\n  },\n  // Root README.md (if using variant approach)\n  {\n    outputPath: \"README.md\",\n    defaultTemplate: \"root/README.md.template\",\n    variantTemplate: \"root/README.with-api.md.template\",\n    condition: (m) =\u003e m.api,\n  },\n];\n```\n\n### Selection Logic\n```typescript\n/**\n * Given a template path, determine which template source to use.\n * Returns the variant template path if condition is met, otherwise the original.\n */\nfunction resolveTemplateVariant(\n  templatePath: string,\n  modules: ModuleSelection\n): string {\n  // Normalize the path for matching\n  const normalizedPath = templatePath.replace(/\\\\/g, \"/\");\n  \n  for (const variant of templateVariants) {\n    if (normalizedPath.endsWith(variant.defaultTemplate)) {\n      // This is a file with a variant - check the condition\n      if (variant.condition(modules)) {\n        // Replace default with variant in the path\n        return templatePath.replace(\n          variant.defaultTemplate,\n          variant.variantTemplate\n        );\n      }\n    }\n  }\n  \n  return templatePath; // No variant, use original\n}\n```\n\n## Integration with copyTemplate\n\nThe copyTemplate function in src/generator/copyTemplate.ts needs to:\n\n1. **Before reading a file**, call `resolveTemplateVariant()` to get the actual source\n2. **Compute output path** by stripping `.template` and `.with-api.` patterns:\n   ```typescript\n   // Transform: App.with-api.tsx.template -\u003e App.tsx\n   function computeOutputPath(templatePath: string): string {\n     return templatePath\n       .replace(/\\.template$/, \"\")\n       .replace(/\\.with-api\\./, \".\");\n   }\n   ```\n3. **Skip variant files** during the normal directory walk (handled by conditionalFiles)\n\n### Example Flow\n```\nWalking: templates/apps/web/src/App.tsx.template\nResolve variant: API selected? Yes -\u003e use App.with-api.tsx.template\nRead from: templates/apps/web/src/App.with-api.tsx.template\nOutput to: apps/web/src/App.tsx\n```\n\n## Verbose Logging\n```\n[verbose] apps/web/src/App.tsx: using variant App.with-api.tsx.template (api=true)\n[verbose] apps/mobile/App.tsx: using default App.tsx.template (api=false)\n```\n\n## Coordination with Conditional Files (turbokit-tcv)\nThe conditionalFiles registry should mark all `.with-api.` files to always be skipped:\n```typescript\n{ templatePath: \".with-api.\", condition: () =\u003e false }\n```\n\nThis prevents the variant files from being copied twice. The variant selection logic handles reading from them when needed.\n\n## Acceptance Criteria\n- [ ] Template variant registry defined and exported\n- [ ] Correct variant selected based on modules.api\n- [ ] Works for App.tsx, package.json, and README.md\n- [ ] Output files have correct names (no .with-api. in output)\n- [ ] Verbose logging shows which variant was selected\n- [ ] Variant files skipped by conditionalFiles (not copied directly)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:49:50.11254-06:00","updated_at":"2025-12-07T19:14:02.58443-06:00","closed_at":"2025-12-07T19:14:02.58443-06:00","dependencies":[{"issue_id":"turbokit-385","depends_on_id":"turbokit-tcv","type":"blocks","created_at":"2025-12-07T13:49:50.114028-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-3by","title":"Create Husky pre-commit hook template (.husky/pre-commit)","description":"## Task\nCreate the Husky pre-commit hook template.\n\n## File to Create\ntemplates/husky/pre-commit.template\n\n## Content\n```bash\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\necho \"Running pre-commit checks...\"\n\n# Run all checks - fail fast on first error\nbun lint || exit 1\nbun typecheck || exit 1\nbun test || exit 1\nbun build || exit 1\n\necho \"All checks passed!\"\n```\n\n## Placement\nGenerated at: .husky/pre-commit\n\n## Important\n- File must be executable (chmod +x)\n- Must include shebang line\n- Must source husky.sh for proper hook execution\n\n## Alternative: Using Turbo\n```bash\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\nbun run ci\n```\n\nWhere `ci` script in package.json is: `turbo lint typecheck test build`\n\n## Acceptance Criteria\n- [ ] Valid shell script\n- [ ] All four checks run (lint, typecheck, test, build)\n- [ ] Fails fast on first error\n- [ ] File marked as executable in template metadata","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:45.342501-06:00","updated_at":"2025-11-26T23:09:40.335138-06:00","closed_at":"2025-11-26T23:09:40.335138-06:00","dependencies":[{"issue_id":"turbokit-3by","depends_on_id":"turbokit-dz8","type":"related","created_at":"2025-11-26T21:40:45.344414-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-3by","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:45.345002-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-3xw","title":"CLI Foundation - Core CLI setup with argument parsing, interactive prompts, and command structure","description":"## Overview\nBuild the foundational CLI infrastructure that handles user input, configuration, and orchestration.\n\n## Scope\n- Project scaffolding: `create-project/` with bin/, src/, package.json, tsconfig.json\n- Argument parsing: --name, --path, --web, --mobile, --api, --storybook, --ui, --yes, --dry-run, --verbose, --force\n- Interactive prompts: project name, path, module selection (multi-select), confirmation\n- Type definitions: ProjectConfig, ModuleSelection, CLIFlags\n- Utilities: logger (with --verbose support), filesystem helpers, path resolution\n- Validation: check target directory, validate config completeness\n\n## Key Files\n- bin/create-project.ts (entry point with shebang)\n- src/index.ts (main orchestrator)\n- src/cli/parseArgs.ts, prompts.ts, summary.ts\n- src/types/config.ts\n- src/config/defaults.ts\n- src/utils/logger.ts, fs.ts, paths.ts\n- src/generator/validate.ts\n\n## Dependencies\nNone - this is the foundation epic.\n\n## Success Criteria\n- `bun run bin/create-project.ts --help` shows all flags\n- Interactive mode prompts for all required inputs\n- --yes flag skips all prompts\n- --verbose flag enables detailed logging\n- Config validation catches missing required fields","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-26T21:39:48.038302-06:00","updated_at":"2025-11-26T22:27:20.16482-06:00","closed_at":"2025-11-26T22:27:20.16482-06:00"}
{"id":"turbokit-4jx","title":"Create web src/api/index.ts.template for API client integration","description":"## Task\nCreate the web app's API client configuration that imports from the shared api-client package.\n\n## File Location\ntemplates/apps/web/src/api/index.ts.template\n\n## Template Content\n```typescript\nimport { createApiClient, createApiHooks } from '@{{scope}}/api-client';\n\nconst apiUrl = import.meta.env.VITE_API_URL ?? 'http://localhost:3001';\n\n// Create client\nexport const api = createApiClient(apiUrl);\n\n// Create and export hooks\nconst hooks = createApiHooks(api);\nexport const useHealth = hooks.useHealth;\n\n// Re-export types\nexport type { ApiClient, AppType } from '@{{scope}}/api-client';\n```\n\n## Implementation Notes\n- Uses Vite's import.meta.env for environment variables\n- Falls back to localhost:3001 for development\n- Pre-creates hooks so consumers can import them directly\n- Re-exports types for convenience\n\n## Environment Variable\nVITE_API_URL is the standard Vite env var pattern (VITE_ prefix required for client exposure).\n\n## Conditional Generation\nThis file is ONLY generated when API module is selected. When API is not selected, this directory doesn't exist.\n\n## Usage in Components\n```typescript\nimport { useHealth } from '../api';\n\nfunction MyComponent() {\n  const { data, isLoading, error } = useHealth();\n  // ...\n}\n```\n\n## Acceptance Criteria\n- [ ] Uses Vite env var pattern\n- [ ] Falls back to localhost:3001\n- [ ] Exports pre-configured hooks\n- [ ] Re-exports types from api-client","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:42.100849-06:00","updated_at":"2025-12-07T14:16:11.320284-06:00","closed_at":"2025-12-07T14:16:11.320284-06:00","dependencies":[{"issue_id":"turbokit-4jx","depends_on_id":"turbokit-11m","type":"blocks","created_at":"2025-12-07T13:46:42.104848-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4jx","depends_on_id":"turbokit-2uk","type":"blocks","created_at":"2025-12-07T13:46:42.106204-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-4nf","title":"Implement template variable replacement engine (src/generator/applyVariables.ts)","description":"## Task\nImplement the template variable replacement engine that transforms {{variable}} tokens.\n\n## Supported Variables\n```typescript\ninterface TemplateVariables {\n  projectName: string;    // {{projectName}} -\u003e \"my-project\"\n  scope: string;          // {{scope}} -\u003e \"@my-project\"\n  year: string;           // {{year}} -\u003e \"2024\"\n  // Package versions from defaults\n  reactVersion: string;\n  typescriptVersion: string;\n  // etc.\n}\n```\n\n## API Design\n```typescript\n// Replace all {{variable}} patterns in content\nfunction applyVariables(\n  content: string, \n  variables: TemplateVariables\n): string;\n\n// Build variables object from config\nfunction buildVariables(config: ProjectConfig): TemplateVariables;\n```\n\n## Implementation Notes\n- Use regex: /\\{\\{(\\w+)\\}\\}/g\n- Throw error for undefined variables\n- Handle nested JSON (don't break JSON syntax)\n- Consider escaping for special chars\n\n## File Location\nsrc/generator/applyVariables.ts\n\n## Acceptance Criteria\n- [ ] All {{variable}} patterns replaced\n- [ ] Undefined variables throw helpful error\n- [ ] Works with JSON files (valid after replacement)\n- [ ] Handles edge cases (empty string, special chars)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:13.751907-06:00","updated_at":"2025-11-26T22:35:00.42696-06:00","closed_at":"2025-11-26T22:35:00.42696-06:00","dependencies":[{"issue_id":"turbokit-4nf","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:13.753521-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4nf","depends_on_id":"turbokit-92w","type":"blocks","created_at":"2025-11-26T21:40:13.754211-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4nf","depends_on_id":"turbokit-8fa","type":"blocks","created_at":"2025-11-26T21:48:52.325242-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-4sq","title":"Create root template files (package.json, tsconfig.json, turbo.json, .gitignore, .editorconfig)","description":"## Task\nCreate the root-level template files for the generated monorepo.\n\n## Files to Create\n\n### package.json.template\n```json\n{\n  \"name\": \"{{projectName}}\",\n  \"private\": true,\n  \"workspaces\": [\"apps/*\", \"packages/*\"],\n  \"scripts\": {\n    \"dev\": \"turbo dev\",\n    \"build\": \"turbo build\",\n    \"lint\": \"turbo lint\",\n    \"test\": \"turbo test\",\n    \"typecheck\": \"turbo typecheck\",\n    \"ci\": \"turbo lint typecheck test build\"\n  },\n  \"devDependencies\": {\n    \"turbo\": \"{{turboVersion}}\",\n    \"typescript\": \"{{typescriptVersion}}\",\n    \"husky\": \"{{huskyVersion}}\"\n  }\n}\n```\n\n### turbo.json.template\n- Pipeline: build, lint, test, typecheck, dev\n- Proper dependsOn and outputs\n\n### tsconfig.json.template\n- Extends packages/config/tsconfig.base.json\n- References to all packages\n\n### .gitignore.template\n- node_modules, dist, .turbo, coverage, etc.\n\n### .editorconfig.template\n- Standard formatting rules\n\n## File Location\ntemplates/root/\n\n## Acceptance Criteria\n- [ ] All root files created\n- [ ] Valid JSON after variable replacement\n- [ ] turbo.json pipeline matches spec\n- [ ] .gitignore comprehensive","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:18.188832-06:00","updated_at":"2025-11-26T22:36:25.381194-06:00","closed_at":"2025-11-26T22:36:25.381194-06:00","dependencies":[{"issue_id":"turbokit-4sq","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:18.190491-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4sq","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:48:52.529679-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-4ti","title":"Create config package tsconfig.react.json and tsconfig.node.json","description":"## Task\nCreate tsconfig.react.json and tsconfig.node.json that extend the base config.\n\n## tsconfig.react.json\n```json\n{\n  \"extends\": \"./tsconfig.base.json\",\n  \"compilerOptions\": {\n    \"lib\": [\"DOM\", \"DOM.Iterable\", \"ESNext\"],\n    \"jsx\": \"react-jsx\",\n    \"allowJs\": true,\n    \"noEmit\": true\n  }\n}\n```\n\n## tsconfig.node.json\n```json\n{\n  \"extends\": \"./tsconfig.base.json\",\n  \"compilerOptions\": {\n    \"lib\": [\"ESNext\"],\n    \"module\": \"ESNext\",\n    \"target\": \"ESNext\",\n    \"types\": [\"bun-types\"],\n    \"noEmit\": true\n  }\n}\n```\n\n## File Location\ntemplates/packages/config/\n\n## Usage\n- Web, Mobile, Storybook extend tsconfig.react.json\n- API extends tsconfig.node.json\n\n## Acceptance Criteria\n- [ ] Both configs extend base correctly\n- [ ] React config enables JSX\n- [ ] Node config includes Bun types\n- [ ] Apps can extend these configs","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:34.575122-06:00","updated_at":"2025-11-26T23:00:54.172786-06:00","closed_at":"2025-11-26T23:00:54.172786-06:00","dependencies":[{"issue_id":"turbokit-4ti","depends_on_id":"turbokit-5ml","type":"related","created_at":"2025-11-26T21:40:34.578442-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4ti","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:34.579353-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-4ti","depends_on_id":"turbokit-v8t","type":"blocks","created_at":"2025-11-26T21:49:03.583315-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-52e","title":"Create web .env.example.template for API URL configuration","description":"## Task\nCreate the .env.example template for web app API URL configuration.\n\n## File Location\ntemplates/apps/web/.env.example.template\n\n## Template Content\n```\n# API URL - defaults to local development\nVITE_API_URL=http://localhost:3001\n\n# For production builds, use your deployed API URL:\n# VITE_API_URL=https://your-api.your-domain.workers.dev\n```\n\n## Implementation Notes\n- Uses VITE_ prefix (required by Vite for client-side exposure)\n- localhost:3001 matches API dev server port\n- Comment shows production usage pattern\n\n## Conditional Generation\nThis file is ONLY generated when API module is selected. When API is not selected, no env example is needed.\n\n## Acceptance Criteria\n- [ ] Uses correct VITE_ prefix\n- [ ] Default matches API dev port (3001)\n- [ ] Production example in comments","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:47:05.343343-06:00","updated_at":"2025-12-07T14:16:13.755229-06:00","closed_at":"2025-12-07T14:16:13.755229-06:00","dependencies":[{"issue_id":"turbokit-52e","depends_on_id":"turbokit-4jx","type":"blocks","created_at":"2025-12-07T13:47:05.344806-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-54u","title":"Phase 6: Generator Conditional File Logic","description":"## Overview\nUpdate the generator to support conditional file generation based on module selection, including template variants and the new api-client package.\n\n## Scope\n- Add conditional file copying logic based on module selection\n- Add api-client package to generation when API is selected\n- Handle template variants (with-api vs without-api versions)\n- Remove app.json.template in favor of app.config.ts.template for mobile\n\n## Prerequisites (Must Be Completed First)\nThis epic depends on all templates being created in previous phases:\n- **Phase 1** (turbokit-zuk): API Cloudflare Workers Migration - wrangler.toml, updated API templates\n- **Phase 2** (turbokit-11m): Shared API Client Package - api-client templates  \n- **Phase 3** (turbokit-mk8): Web App TanStack Query Integration - QueryProvider, App variants\n- **Phase 4** (turbokit-pxg): Mobile App TanStack Query Integration - QueryProvider, App variants, env.ts\n- **Phase 5** (turbokit-9np): Root Configuration - turbo.json deploy task, convenience scripts\n\n## Key Generator Changes Required\n\n### 1. Conditional File Mapping\nFiles that should only be generated when API is selected:\n- packages/api-client/ (entire directory)\n- apps/web/src/api/index.ts\n- apps/web/.env.example\n- apps/mobile/src/api/index.ts  \n- apps/mobile/src/config/env.ts\n- apps/mobile/.env.example\n\n### 2. Template Variants\nFiles that have different versions based on API selection:\n- apps/web/src/App.tsx (App.tsx.template vs App.with-api.tsx.template)\n- apps/mobile/App.tsx (App.tsx.template vs App.with-api.tsx.template)\n- apps/web/package.json (different dependencies)\n- apps/mobile/package.json (different dependencies)\n\n### 3. Package.json Conditional Dependencies\nThe generator must inject different dependencies based on module selection:\n- @scope/api-client: Only when API selected\n- expo-constants: Only when API selected (mobile)\n- dotenv: Only when API selected (mobile)\n\n### 4. Mobile Config Migration\n- Remove app.json.template from copy list\n- Add app.config.ts.template instead\n- Ensure .template suffix is stripped correctly for .ts files\n\n## Deliverables\n- Updated src/generator/copyTemplate.ts with conditional logic\n- Updated src/generator/generate.ts with api-client package handling\n- Template variant selection logic (new file or in copyTemplate.ts)\n- Conditional dependency injection in package.json files\n\n## Child Tasks (In Order)\n1. turbokit-tcv: Implement conditional file copying\n2. turbokit-385: Implement template variant selection\n3. turbokit-b6n: Add api-client package to generator\n4. turbokit-cxy: Implement conditional dependency injection\n5. turbokit-r9i: Remove app.json.template migration\n\n## Success Criteria\n- [ ] Conditional files skipped when API not selected\n- [ ] Correct template variant selected based on modules\n- [ ] api-client package generated only when API selected\n- [ ] Package.json dependencies correct for each scenario\n- [ ] app.config.ts generated instead of app.json for mobile","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:49:31.016843-06:00","updated_at":"2025-12-07T19:14:09.403995-06:00","closed_at":"2025-12-07T19:14:09.403995-06:00"}
{"id":"turbokit-56g","title":"Update mobile package.json.template with TanStack Query and conditional dependencies","description":"## Task\nUpdate the mobile package.json template to include TanStack Query and conditional dependencies.\n\n## File Location\ntemplates/apps/mobile/package.json.template\n\n## Current State (actual file content)\n```json\n{\n  \"name\": \"{{projectName}}-mobile\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"expo start\",\n    \"start\": \"expo start\",\n    \"android\": \"expo start --android\",\n    \"ios\": \"expo start --ios\",\n    \"web\": \"expo start --web\",\n    \"lint\": \"eslint .\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"expo\": \"~54.0.0\",\n    \"expo-status-bar\": \"~3.0.8\",\n    \"react\": \"19.1.0\",\n    \"react-native\": \"0.81.5\"\n  },\n  \"devDependencies\": {\n    \"@{{scope}}/config\": \"workspace:*\",\n    \"@types/react\": \"~19.1.10\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Dependencies to Add (ALWAYS)\n```json\n{\n  \"dependencies\": {\n    \"@tanstack/react-query\": \"^5.62.0\"\n  }\n}\n```\n\n## Dependencies to Add (ONLY when API selected)\n```json\n{\n  \"dependencies\": {\n    \"@{{scope}}/api-client\": \"workspace:*\",\n    \"expo-constants\": \"~17.0.0\"\n  },\n  \"devDependencies\": {\n    \"dotenv\": \"^16.4.0\"\n  }\n}\n```\n\n## Full package.json (WITH API)\n```json\n{\n  \"name\": \"{{projectName}}-mobile\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"dev\": \"expo start\",\n    \"start\": \"expo start\",\n    \"android\": \"expo start --android\",\n    \"ios\": \"expo start --ios\",\n    \"web\": \"expo start --web\",\n    \"lint\": \"eslint .\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"@{{scope}}/api-client\": \"workspace:*\",\n    \"@tanstack/react-query\": \"^5.62.0\",\n    \"expo\": \"~54.0.0\",\n    \"expo-constants\": \"~17.0.0\",\n    \"expo-status-bar\": \"~3.0.8\",\n    \"react\": \"19.1.0\",\n    \"react-native\": \"0.81.5\"\n  },\n  \"devDependencies\": {\n    \"@{{scope}}/config\": \"workspace:*\",\n    \"@types/react\": \"~19.1.10\",\n    \"dotenv\": \"^16.4.0\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Implementation Notes\n- expo-constants: Required for reading app.config.ts extra values at runtime\n- dotenv: Required for app.config.ts to read .env files\n- No DevTools (not available in React Native)\n- Package name is NOT scoped: `{{projectName}}-mobile` (matches existing template)\n\n## Implementation Options\n1. **Template Variants**: Create package.json.template and package.with-api.json.template\n2. **Conditional Injection**: Post-process the generated package.json to add deps\n\nOption 1 (variants) is simpler and consistent with App.tsx approach.\n\n## Acceptance Criteria\n- [ ] @tanstack/react-query always in dependencies\n- [ ] api-client dependency conditional on API selection\n- [ ] expo-constants conditional on API selection\n- [ ] dotenv in devDependencies conditional on API selection\n- [ ] Valid JSON syntax\n- [ ] Preserves existing structure and dependencies","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:48:44.259419-06:00","updated_at":"2025-12-07T14:16:26.246398-06:00","closed_at":"2025-12-07T14:16:26.246398-06:00","dependencies":[{"issue_id":"turbokit-56g","depends_on_id":"turbokit-k6s","type":"blocks","created_at":"2025-12-07T13:48:44.261195-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-56g","depends_on_id":"turbokit-yt1","type":"blocks","created_at":"2025-12-07T13:48:44.262445-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-5jp","title":"Add unit tests for CLI modules (parseArgs, prompts, validate)","description":"## Task\nAdd unit tests for core CLI modules using bun:test.\n\n## Files to Test\n- src/cli/parseArgs.ts - flag parsing edge cases\n- src/cli/prompts.ts - mock prompts\n- src/generator/validate.ts - validation rules\n\n## Test Cases\n- parseArgs: valid flags, unknown flags, short aliases, missing values\n- validate: empty name, invalid path, conflicting options\n- prompts: default values, skip with --yes\n\n## File Location\ntests/unit/\n\n## Acceptance Criteria\n- [ ] Test coverage for critical paths\n- [ ] All tests pass with bun test\n- [ ] Mocking for interactive prompts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:53:46.72878-06:00","updated_at":"2025-12-07T13:07:05.858626-06:00","closed_at":"2025-12-07T13:07:05.858626-06:00","dependencies":[{"issue_id":"turbokit-5jp","depends_on_id":"turbokit-bcq","type":"blocks","created_at":"2025-11-26T21:53:46.731129-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-5jp","depends_on_id":"turbokit-8bm","type":"blocks","created_at":"2025-11-26T21:53:46.732414-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-5jp","depends_on_id":"turbokit-11a","type":"blocks","created_at":"2025-11-26T21:53:46.733017-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-5ml","title":"Shared Packages - Config and UI package templates","description":"## Overview\nCreate the shared packages that provide consistent configuration and reusable UI components across the monorepo.\n\n## Scope\n\n### Config Package (packages/config) - REQUIRED\nAlways included in generated projects. Contains:\n- tsconfig.base.json: Base TypeScript config (strict, ESNext, etc.)\n- tsconfig.react.json: Extends base, adds JSX/React settings\n- tsconfig.node.json: Extends base, adds Node.js settings\n- eslint-config-custom.cjs: Shared ESLint rules\n- prettier.config.cjs: Shared Prettier config\n- package.json exporting all configs\n\n### UI Package (packages/ui) - OPTIONAL\nOnly included if --ui flag is set. Contains:\n- Minimal starter component (e.g., Button)\n- TypeScript with React types\n- package.json with react/react-dom as peerDependencies\n- Proper exports configuration\n\n## Key Design Decisions\n- Use .cjs extension for ESLint/Prettier for CommonJS compatibility\n- tsconfigs use \"extends\" pattern for DRY configuration\n- UI package uses peerDependencies to avoid React version conflicts\n\n## Dependencies\n- Requires: Template System (turbokit-fay) - templates directory structure\n\n## Success Criteria\n- Apps can extend tsconfigs: \"extends\": \"@{{scope}}/config/tsconfig.react.json\"\n- ESLint config importable: \"extends\": [\"@{{scope}}/config/eslint-config-custom\"]\n- UI components importable: import { Button } from \"@{{scope}}/ui\"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:39:49.654249-06:00","updated_at":"2025-11-26T23:01:11.250343-06:00","closed_at":"2025-11-26T23:01:11.250343-06:00"}
{"id":"turbokit-64p","title":"Update README.md.template with API integration documentation","description":"## Task\nUpdate the README template to include API integration documentation when API module is selected.\n\n## File Location\ntemplates/root/README.md.template\n\n## Sections to Add (Conditional on API Selection)\n\n### API Development Section\n```markdown\n## API Development\n\nThe API runs on Cloudflare Workers using the Hono framework.\n\n### Local Development\n\n\\`\\`\\`bash\n# Start the API (runs on http://localhost:3001)\nbun run dev:api\n\n# Or start all services\nbun run dev\n\\`\\`\\`\n\n### Deployment\n\n\\`\\`\\`bash\n# Deploy to Cloudflare Workers\nbun run deploy:api\n\n# View production logs\ncd apps/api \u0026\u0026 bun run tail\n\\`\\`\\`\n\n### Adding New Endpoints\n\n1. Add routes in \\`apps/api/src/index.ts\\` using Hono's chained syntax:\n   \\`\\`\\`typescript\n   const app = new Hono()\n     .get(\"/health\", ...)\n     .get(\"/users\", ...)  // Add new routes by chaining\n   \\`\\`\\`\n   \n2. Update the hooks in \\`packages/api-client/src/hooks.ts\\`:\n   \\`\\`\\`typescript\n   useUsers: () =\u003e useQuery({\n     queryKey: [\"users\"],\n     queryFn: async () =\u003e {\n       const res = await api.users.$get();\n       return res.json();\n     },\n   }),\n   \\`\\`\\`\n\n3. Types flow automatically from API -\u003e api-client -\u003e web/mobile!\n```\n\n### Mobile Physical Device Section\n```markdown\n## Mobile Development\n\n### Simulators/Emulators\n\nThe app automatically uses the correct localhost URL:\n- iOS Simulator: \\`http://localhost:3001\\`\n- Android Emulator: \\`http://10.0.2.2:3001\\`\n\n### Physical Device Development\n\nFor testing on physical devices, set the API URL to your machine's local IP:\n\n1. Find your computer's local IP (e.g., \\`192.168.1.100\\`)\n2. Update \\`apps/mobile/.env\\`:\n   \\`\\`\\`\n   API_URL=http://192.168.1.100:3001\n   \\`\\`\\`\n3. Ensure your device and computer are on the same network\n4. Restart the Expo dev server\n```\n\n## Implementation Options\n\n### Option A: Template Variants (Recommended)\nCreate two README variants:\n- README.md.template (without API sections)\n- README.with-api.md.template (with API sections)\n\nUse existing variant selection logic.\n\n### Option B: Conditional Sections\nUse template markers that the generator strips:\n```markdown\n{{#if api}}\n## API Development\n...\n{{/if}}\n```\n\nRequires adding conditional block support to applyVariables.ts.\n\n## Acceptance Criteria\n- [ ] API development section documented\n- [ ] Deployment instructions included  \n- [ ] Physical device setup documented (critical for mobile devs)\n- [ ] Adding endpoints workflow explained with code examples\n- [ ] Type flow explained (API -\u003e api-client -\u003e apps)\n- [ ] Conditional on API module selection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:49:20.013144-06:00","updated_at":"2025-12-07T19:40:50.955825-06:00","closed_at":"2025-12-07T19:40:50.955825-06:00","dependencies":[{"issue_id":"turbokit-64p","depends_on_id":"turbokit-0l5","type":"blocks","created_at":"2025-12-07T13:49:20.014578-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-67f","title":"Implement config merging logic (flags + prompts + defaults)","description":"## Task\nImplement logic to merge configuration from multiple sources.\n\n## Config Sources (priority order)\n1. CLI flags (highest priority)\n2. Interactive prompt responses\n3. Default values (lowest priority)\n\n## Implementation Location\nsrc/config/merge.ts or within src/index.ts\n\n## Merge Rules\n- Explicit flags override everything\n- Prompts fill in missing values\n- Defaults used for remaining values\n- --yes flag uses all defaults (skips prompts)\n\n## Example Flow\n```\nflags: { name: 'my-app', web: true }\nprompts: { path: './my-app', mobile: true }\ndefaults: { storybook: false, ui: false }\n→ merged: { name: 'my-app', path: './my-app', web: true, mobile: true, storybook: false, ui: false }\n```\n\n## Acceptance Criteria\n- [ ] Flags always win\n- [ ] Missing values filled from prompts\n- [ ] --yes skips prompts entirely\n- [ ] Final config is complete and valid","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:54:08.701908-06:00","updated_at":"2025-12-07T13:00:59.904571-06:00","closed_at":"2025-12-07T13:00:59.904571-06:00","dependencies":[{"issue_id":"turbokit-67f","depends_on_id":"turbokit-bcq","type":"blocks","created_at":"2025-11-26T21:54:08.703563-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-67f","depends_on_id":"turbokit-8bm","type":"blocks","created_at":"2025-11-26T21:54:08.704496-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-67f","depends_on_id":"turbokit-ptg","type":"blocks","created_at":"2025-11-26T21:54:08.705163-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-6ec","title":"Implement logger utility (src/utils/logger.ts) with verbose mode support","description":"## Task\nCreate a logger utility that respects --verbose flag and provides consistent output formatting.\n\n## API Design\n```typescript\ninterface Logger {\n  info(message: string): void;\n  success(message: string): void;\n  warn(message: string): void;\n  error(message: string): void;\n  debug(message: string): void;  // only shows with --verbose\n  \n  // Progress helpers\n  step(current: number, total: number, message: string): void;\n  \n  // Formatting\n  dim(message: string): string;\n  bold(message: string): string;\n}\n\nfunction createLogger(verbose: boolean): Logger;\n```\n\n## Implementation Notes\n- Use ANSI color codes for terminal output\n- debug() should no-op when verbose=false\n- Consider using chalk or picocolors (or raw ANSI)\n- step() format: \"[1/5] Installing dependencies...\"\n\n## File Location\nsrc/utils/logger.ts\n\n## Acceptance Criteria\n- [ ] All log levels work correctly\n- [ ] --verbose controls debug output\n- [ ] Colors render in terminal\n- [ ] No colors when piped (detect TTY)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:57.534245-06:00","updated_at":"2025-11-26T22:20:00.948446-06:00","closed_at":"2025-11-26T22:20:00.948446-06:00"}
{"id":"turbokit-6he","title":"Create CI workflow template (.github/workflows/ci.yml)","description":"## Task\nCreate the GitHub Actions CI workflow template.\n\n## File to Create\ntemplates/pipelines/ci.yml.template\n\n## Workflow Content\n```yaml\nname: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    \n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      \n      - name: Setup Bun\n        uses: oven-sh/setup-bun@v1\n        with:\n          bun-version: latest\n      \n      - name: Install dependencies\n        run: bun install\n      \n      - name: Lint\n        run: bun lint\n      \n      - name: Type check\n        run: bun typecheck\n      \n      - name: Test\n        run: bun test\n      \n      - name: Build\n        run: bun build\n```\n\n## Placement\nGenerated at: .github/workflows/ci.yml\n\n## Implementation Notes\n- No variables needed (static file)\n- Match the pre-commit hook steps\n- Use latest stable action versions\n\n## Acceptance Criteria\n- [ ] Valid YAML syntax\n- [ ] All CI steps match spec (lint, typecheck, test, build)\n- [ ] Uses Bun setup action\n- [ ] Triggers on push/PR to main","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:44.393061-06:00","updated_at":"2025-11-26T23:09:40.395881-06:00","closed_at":"2025-11-26T23:09:40.395881-06:00","dependencies":[{"issue_id":"turbokit-6he","depends_on_id":"turbokit-dz8","type":"related","created_at":"2025-11-26T21:40:44.3949-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-6he","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:44.395506-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-6vo","title":"React 18/19 type conflict in monorepo with web + mobile","description":"When web (React 18.2) and mobile (React 19.1) are both selected, the monorepo has conflicting React type definitions. This causes typecheck failures in mobile's QueryProvider.tsx where ReactNode types don't match. The fix is to either: 1) Align React versions across platforms, or 2) Use more compatible types in shared components. Individual platform typechecks pass - only the combined monorepo fails.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-07T20:09:04.231786-06:00","updated_at":"2025-12-07T20:25:46.608839-06:00","closed_at":"2025-12-07T20:25:46.608839-06:00","dependencies":[{"issue_id":"turbokit-6vo","depends_on_id":"turbokit-vzs","type":"discovered-from","created_at":"2025-12-07T20:09:04.233463-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-7d7","title":"Create api-client/src/hooks.ts.template with TanStack Query hook factory","description":"## Task\nCreate the TanStack Query hook factory that generates typed data fetching hooks.\n\n## File Location\ntemplates/packages/api-client/src/hooks.ts.template\n\n## Template Content\n```typescript\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { ApiClient } from \"./client\";\n\n/**\n * Factory to create hooks with injected client.\n * This pattern allows different base URLs for web vs mobile.\n * \n * @param api - The API client created by createApiClient\n * @returns Object containing all API hooks\n */\nexport function createApiHooks(api: ApiClient) {\n  return {\n    /**\n     * Hook to fetch API health status.\n     * @example\n     * const { data, isLoading, error } = useHealth();\n     */\n    useHealth: () =\u003e\n      useQuery({\n        queryKey: [\"health\"],\n        queryFn: async () =\u003e {\n          const res = await api.health.$get();\n          if (!res.ok) throw new Error(\"Failed to fetch health\");\n          return res.json();\n        },\n      }),\n\n    // Add more hooks as you add API endpoints:\n    // useUsers: () =\u003e\n    //   useQuery({\n    //     queryKey: [\"users\"],\n    //     queryFn: async () =\u003e {\n    //       const res = await api.users.$get();\n    //       if (!res.ok) throw new Error(\"Failed to fetch users\");\n    //       return res.json();\n    //     },\n    //   }),\n    //\n    // useUser: (id: string) =\u003e\n    //   useQuery({\n    //     queryKey: [\"user\", id],\n    //     queryFn: async () =\u003e {\n    //       const res = await api.users[\":id\"].$get({ param: { id } });\n    //       if (!res.ok) throw new Error(\"Failed to fetch user\");\n    //       return res.json();\n    //     },\n    //   }),\n  };\n}\n```\n\n## Design Rationale\n\n### Why Factory Pattern?\nWeb and mobile have different base URLs:\n- **Web**: `import.meta.env.VITE_API_URL` (Vite env var)\n- **Mobile**: Platform-aware URL (localhost for iOS, 10.0.2.2 for Android)\n\nBy accepting the client as a parameter, hooks don't need to know about URL configuration. Each platform creates the client with its appropriate URL, then passes it to the factory.\n\n### Query Keys\n- Simple array keys that can be extended with parameters\n- Follow TanStack Query best practices: `[\"entity\"]` or `[\"entity\", id]`\n\n### Error Handling\n- Throws on non-ok responses for proper error boundaries\n- TanStack Query catches these and populates `error` in the hook result\n\n## Usage in Consuming Apps\n```typescript\n// In apps/web/src/api/index.ts\nimport { createApiClient, createApiHooks } from \"@{{scope}}/api-client\";\n\nconst api = createApiClient(import.meta.env.VITE_API_URL);\nconst hooks = createApiHooks(api);\nexport const useHealth = hooks.useHealth;\n```\n\n## Code Style\n- Use double quotes for strings (matches project style)\n- Include JSDoc documentation for factory and hooks\n- Commented examples show how to extend\n\n## Acceptance Criteria\n- [ ] Exports createApiHooks factory function\n- [ ] useHealth hook implemented as working example\n- [ ] Uses TanStack Query's useQuery\n- [ ] Proper error handling (throws on !res.ok)\n- [ ] Commented examples showing parameterized hooks\n- [ ] JSDoc documentation included\n- [ ] Uses double quotes (project style)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:50.285401-06:00","updated_at":"2025-12-07T14:12:56.683967-06:00","closed_at":"2025-12-07T14:12:56.683967-06:00","dependencies":[{"issue_id":"turbokit-7d7","depends_on_id":"turbokit-ove","type":"blocks","created_at":"2025-12-07T13:45:50.286624-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-7gp","title":"Update API tsconfig.json.template for Cloudflare Workers types","description":"## Task\nUpdate the API tsconfig.json template to include Cloudflare Workers types.\n\n## File Location\ntemplates/apps/api/tsconfig.json.template\n\n## Current State (for reference)\nCheck the existing API tsconfig to understand the current structure and base config being extended.\n\n## Updated Template Content\n```json\n{\n  \"extends\": \"@{{scope}}/config/tsconfig.node.json\",\n  \"compilerOptions\": {\n    \"types\": [\"@cloudflare/workers-types\"],\n    \"moduleResolution\": \"bundler\",\n    \"noEmit\": true\n  },\n  \"include\": [\"src/**/*.ts\"]\n}\n```\n\n## Key Changes\n1. **Add `types` array** with @cloudflare/workers-types\n2. **Use `moduleResolution: bundler`** for wrangler compatibility\n3. **Set `noEmit: true`** since wrangler handles bundling\n\n## Why These Settings\n- **types**: Includes Workers globals (Request, Response, fetch, etc.) with CF-specific extensions\n- **moduleResolution: bundler**: Required for wrangler's esbuild-based bundler to resolve imports correctly\n- **noEmit**: TypeScript is only for type checking; wrangler bundles the code\n\n## Verification Needed\nBefore implementation, verify that `@{{scope}}/config/tsconfig.node.json` exists in the templates. If not, consider:\n- Extending `@{{scope}}/config/tsconfig.base.json` instead\n- Or extending `@{{scope}}/config/tsconfig.json`\n\nCheck templates/packages/config/ for available base configs.\n\n## Acceptance Criteria\n- [ ] Valid JSON syntax\n- [ ] Extends the correct shared config package (verify path exists)\n- [ ] Workers types included in types array\n- [ ] Bundler module resolution configured\n- [ ] noEmit set to true","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:20.262837-06:00","updated_at":"2025-12-07T14:08:23.084871-06:00","closed_at":"2025-12-07T14:08:23.084871-06:00"}
{"id":"turbokit-7he","title":"Create README.md and AGENTS.md templates","description":"## Task\nCreate README.md and AGENTS.md templates for generated projects.\n\n## README.md.template Content\n- Project name and description\n- Getting started instructions\n- Available scripts (dev, build, lint, test, typecheck)\n- Project structure overview\n- Links to included technologies\n- Basic contribution guidelines\n\n## AGENTS.md.template Content\n- Overview of the monorepo structure\n- How to run each app individually\n- Testing instructions\n- Code style guidelines\n- AI agent instructions for working with the codebase\n\n## Variables Used\n- {{projectName}}\n- {{scope}}\n- List of enabled modules (conditional sections)\n\n## File Location\ntemplates/root/README.md.template\ntemplates/root/AGENTS.md.template\n\n## Acceptance Criteria\n- [ ] README is comprehensive but not verbose\n- [ ] AGENTS.md helps AI assistants understand the project\n- [ ] Conditional sections for optional modules\n- [ ] All commands accurate","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:40:19.583422-06:00","updated_at":"2025-11-26T22:36:25.483276-06:00","closed_at":"2025-11-26T22:36:25.483276-06:00","dependencies":[{"issue_id":"turbokit-7he","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:19.585165-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-7he","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:48:52.58686-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-8bm","title":"Implement interactive prompts (src/cli/prompts.ts)","description":"## Task\nImplement interactive prompts for gathering project configuration when flags are not provided.\n\n## Prompts Flow\n1. **Project name** (if --name not provided)\n   - Validate: kebab-case, no spaces, valid npm package name\n   - Default: current directory name\n\n2. **Project path** (if --path not provided)\n   - Default: ./\u003cproject-name\u003e\n   - Warn if directory exists (unless --force)\n\n3. **Module selection** (if no module flags provided)\n   - Multi-select checkbox\n   - Options: Web, Mobile, API, Storybook, UI Package\n   - Default: Web + API + UI selected\n\n4. **Confirmation**\n   - Show summary of selections\n   - \"Proceed? (Y/n)\"\n\n## Implementation Notes\n- Use @inquirer/prompts or similar\n- Skip prompts if --yes flag is set\n- Validate inputs before proceeding\n- Allow Ctrl+C to cancel gracefully\n\n## File Location\nsrc/cli/prompts.ts\n\n## Signature\n```typescript\nasync function promptForConfig(flags: CLIFlags): Promise\u003cProjectConfig\u003e;\n```\n\n## Acceptance Criteria\n- [ ] All prompts work interactively\n- [ ] --yes skips all prompts\n- [ ] Invalid inputs show helpful errors\n- [ ] Ctrl+C exits cleanly\n- [ ] Summary shows before confirmation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:04.971285-06:00","updated_at":"2025-11-26T22:25:43.810265-06:00","closed_at":"2025-11-26T22:25:43.810265-06:00","dependencies":[{"issue_id":"turbokit-8bm","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:40:04.972924-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-8bm","depends_on_id":"turbokit-8fa","type":"blocks","created_at":"2025-11-26T21:40:04.973646-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-8fa","title":"Define TypeScript types for CLI config (src/types/config.ts)","description":"## Task\nDefine all TypeScript types and interfaces used throughout the CLI.\n\n## Types to Define\n\n### CLIFlags\n```typescript\ninterface CLIFlags {\n  name?: string;\n  path?: string;\n  web: boolean;\n  mobile: boolean;\n  api: boolean;\n  storybook: boolean;\n  ui: boolean;\n  yes: boolean;      // skip prompts\n  dryRun: boolean;\n  verbose: boolean;\n  force: boolean;    // overwrite existing\n}\n```\n\n### ProjectConfig\n```typescript\ninterface ProjectConfig {\n  projectName: string;      // kebab-case\n  projectPath: string;      // absolute path\n  scope: string;            // @projectName\n  modules: ModuleSelection;\n}\n```\n\n### ModuleSelection\n```typescript\ninterface ModuleSelection {\n  web: boolean;\n  mobile: boolean;\n  api: boolean;\n  storybook: boolean;\n  ui: boolean;\n}\n```\n\n### TemplateVariables\n```typescript\ninterface TemplateVariables {\n  projectName: string;\n  scope: string;\n  year: string;\n  // Add more as needed\n}\n```\n\n## File Location\nsrc/types/config.ts\n\n## Acceptance Criteria\n- [ ] All interfaces exported\n- [ ] Types are strict (no `any`)\n- [ ] JSDoc comments on each interface\n- [ ] File compiles without errors","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:56.594952-06:00","updated_at":"2025-11-26T22:19:54.454623-06:00","closed_at":"2025-11-26T22:19:54.454623-06:00"}
{"id":"turbokit-92w","title":"Implement filesystem utilities (src/utils/fs.ts)","description":"## Task\nCreate filesystem utility functions for common operations used throughout the generator.\n\n## API Design\n```typescript\n// Check if path exists\nfunction exists(path: string): Promise\u003cboolean\u003e;\n\n// Check if directory is empty\nfunction isEmptyDir(path: string): Promise\u003cboolean\u003e;\n\n// Create directory recursively\nfunction mkdir(path: string): Promise\u003cvoid\u003e;\n\n// Copy file with optional transform\nfunction copyFile(\n  src: string, \n  dest: string, \n  transform?: (content: string) =\u003e string\n): Promise\u003cvoid\u003e;\n\n// Copy directory recursively\nfunction copyDir(\n  src: string, \n  dest: string,\n  options?: { transform?: (content: string, filePath: string) =\u003e string }\n): Promise\u003cvoid\u003e;\n\n// Write file creating parent dirs\nfunction writeFile(path: string, content: string): Promise\u003cvoid\u003e;\n\n// Read file as string\nfunction readFile(path: string): Promise\u003cstring\u003e;\n\n// List directory contents\nfunction readDir(path: string): Promise\u003cstring[]\u003e;\n```\n\n## Implementation Notes\n- Use Bun's native fs APIs (Bun.file, Bun.write)\n- Handle errors gracefully with descriptive messages\n- copyDir should skip node_modules, .git, etc.\n\n## File Location\nsrc/utils/fs.ts\n\n## Acceptance Criteria\n- [ ] All functions handle errors gracefully\n- [ ] copyDir is recursive\n- [ ] writeFile creates parent directories\n- [ ] Works with Bun runtime","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:58.364024-06:00","updated_at":"2025-11-26T22:20:07.966528-06:00","closed_at":"2025-11-26T22:20:07.966528-06:00"}
{"id":"turbokit-9np","title":"Phase 5: Root Configuration and Developer Experience","description":"## Overview\nUpdate root configuration files to support API integration, including Turborepo pipeline updates and convenience scripts.\n\n## Scope\n- Update turbo.json with deploy task\n- Add convenience scripts to root package.json\n- Update README template with API integration documentation\n\n## Child Tasks (Execute In Order)\n1. **turbokit-qdp**: Update turbo.json.template with deploy task\n   - Adds `deploy` task with `dependsOn: [\"^build\"]` and `cache: false`\n   - Required for deploy:api script to work\n\n2. **turbokit-0l5**: Update root package.json.template with convenience scripts\n   - Adds dev:api, dev:web, dev:mobile, deploy:api scripts\n   - Depends on turbo.json having deploy task\n\n3. **turbokit-64p**: Update README.md.template with API integration documentation\n   - Documents API development workflow, deployment, physical device setup\n   - Should reference the convenience scripts\n\n## Deliverables\n- Updated templates/root/turbo.json.template with deploy task\n- Updated templates/root/package.json.template with convenience scripts  \n- Updated templates/root/README.md.template with API docs\n\n## Dependencies\n- Can be done in parallel with Phases 3 and 4\n- Should be completed before Phase 6 (Generator Updates)\n\n## Success Criteria\n- [ ] turbo.json has deploy task with correct configuration\n- [ ] Root package.json has all convenience scripts\n- [ ] README documents API development workflow\n- [ ] All scripts use correct package name filters","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:48:51.93181-06:00","updated_at":"2025-12-07T14:16:32.81907-06:00","closed_at":"2025-12-07T14:16:32.81907-06:00"}
{"id":"turbokit-a03","title":"Setup TypeScript build for CLI distribution","description":"## Task\nSetup TypeScript build configuration for CLI distribution.\n\n## tsconfig.json Updates\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"bundler\",\n    \"strict\": true,\n    \"outDir\": \"./dist\",\n    \"rootDir\": \".\",\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"skipLibCheck\": true\n  },\n  \"include\": [\"src/**/*\", \"bin/**/*\"],\n  \"exclude\": [\"node_modules\", \"dist\", \"templates\"]\n}\n```\n\n## Build Script\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsc\",\n    \"prepublishOnly\": \"bun run build\"\n  }\n}\n```\n\n## Implementation Notes\n- Templates are NOT compiled (copied as-is)\n- Source maps for debugging\n- Declaration files for TypeScript users\n- prepublishOnly ensures build before publish\n\n## Considerations\n- May need bun build instead of tsc for bundling\n- Consider if templates need to be in dist or root\n\n## Acceptance Criteria\n- [ ] `bun run build` produces dist/ folder\n- [ ] Source maps generated\n- [ ] Declaration files generated\n- [ ] Templates not in dist (copied separately)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:51.121956-06:00","updated_at":"2025-11-26T23:12:42.306631-06:00","closed_at":"2025-11-26T23:12:42.306631-06:00","dependencies":[{"issue_id":"turbokit-a03","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:51.124035-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-a03","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:40:51.124789-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-a7m","title":"Update web main.tsx.template to wrap app with QueryProvider","description":"## Task\nUpdate the web app's main.tsx entry point to wrap the app with QueryProvider.\n\n## File Location\ntemplates/apps/web/src/main.tsx.template\n\n## Current State (for reference)\n```typescript\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\n\nconst root = document.getElementById(\"root\");\n\nif (!root) {\n  throw new Error(\"Root element not found\");\n}\n\ncreateRoot(root).render(\n  \u003cStrictMode\u003e\n    \u003cApp /\u003e\n  \u003c/StrictMode\u003e\n);\n```\n\n## Updated Template Content\n```typescript\nimport { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { QueryProvider } from \"./providers/QueryProvider\";\nimport App from \"./App\";\n\nconst root = document.getElementById(\"root\");\n\nif (!root) {\n  throw new Error(\"Root element not found\");\n}\n\ncreateRoot(root).render(\n  \u003cStrictMode\u003e\n    \u003cQueryProvider\u003e\n      \u003cApp /\u003e\n    \u003c/QueryProvider\u003e\n  \u003c/StrictMode\u003e\n);\n```\n\n## Key Changes\n- Import QueryProvider from providers directory\n- Wrap App with QueryProvider inside StrictMode\n- **Preserve** the defensive null check for root element (important for debugging)\n\n## Always Applied\nThis update is always applied (not conditional) because QueryProvider is always generated.\n\n## Acceptance Criteria\n- [ ] QueryProvider imported and used\n- [ ] App wrapped correctly\n- [ ] StrictMode preserved\n- [ ] Defensive null check for root element preserved","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:48.407275-06:00","updated_at":"2025-12-07T14:16:12.076673-06:00","closed_at":"2025-12-07T14:16:12.076673-06:00","dependencies":[{"issue_id":"turbokit-a7m","depends_on_id":"turbokit-2uk","type":"blocks","created_at":"2025-12-07T13:46:48.408788-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-afs","title":"Create API app template (Bun + Hono server)","description":"## Task\nCreate the API app template using Bun + Hono.\n\n## Files to Create\n```\ntemplates/apps/api/\n  package.json.template\n  tsconfig.json.template\n  src/\n    index.ts.template\n    routes/\n      health.ts.template\n```\n\n## package.json Dependencies\n- hono\n- @{{scope}}/config (workspace:*)\n\n## devDependencies\n- typescript\n- @types/bun\n\n## Scripts\n- dev: bun --watch src/index.ts\n- start: bun src/index.ts\n- build: bun build src/index.ts --outdir dist --target bun\n- typecheck: tsc --noEmit\n\n## src/index.ts Structure\n```typescript\nimport { Hono } from 'hono';\nimport { healthRoutes } from './routes/health';\n\nconst app = new Hono();\n\napp.route('/health', healthRoutes);\n\napp.get('/', (c) =\u003e c.json({ message: 'Hello from {{projectName}} API' }));\n\nexport default {\n  port: 3001,\n  fetch: app.fetch,\n};\n```\n\n## Health Route\n- GET /health -\u003e { status: 'ok', timestamp: ... }\n\n## tsconfig.json\n- Extends @{{scope}}/config/tsconfig.node.json\n\n## Acceptance Criteria\n- [ ] `bun dev` starts server with hot reload\n- [ ] GET / returns JSON response\n- [ ] GET /health returns status\n- [ ] TypeScript compiles without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:28.469304-06:00","updated_at":"2025-11-26T23:04:41.608823-06:00","closed_at":"2025-11-26T23:04:41.608823-06:00","dependencies":[{"issue_id":"turbokit-afs","depends_on_id":"turbokit-e8m","type":"related","created_at":"2025-11-26T21:40:28.471032-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-afs","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:28.471543-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-afs","depends_on_id":"turbokit-v8t","type":"blocks","created_at":"2025-11-26T21:48:58.621495-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-apr","title":"End-to-end test: generate full project and verify it builds","description":"## Task\nCreate comprehensive end-to-end test that generates a full project and verifies it works.\n\n## Test Script\n```typescript\n// e2e/generate.test.ts\nimport { $ } from 'bun';\nimport { rmdir, exists } from 'fs/promises';\n\nconst TEST_DIR = '/tmp/create-project-e2e-test';\n\ndescribe('E2E: Project Generation', () =\u003e {\n  beforeAll(async () =\u003e {\n    // Clean up any previous test\n    if (await exists(TEST_DIR)) {\n      await rmdir(TEST_DIR, { recursive: true });\n    }\n  });\n\n  it('generates a complete project with all modules', async () =\u003e {\n    // Generate project\n    const result = await $`bun run bin/create-project.ts \\\n      --name e2e-test \\\n      --path ${TEST_DIR} \\\n      --web --api --ui \\\n      --yes`.quiet();\n    \n    expect(result.exitCode).toBe(0);\n    \n    // Verify structure\n    expect(await exists(`${TEST_DIR}/package.json`)).toBe(true);\n    expect(await exists(`${TEST_DIR}/apps/web`)).toBe(true);\n    expect(await exists(`${TEST_DIR}/apps/api`)).toBe(true);\n    expect(await exists(`${TEST_DIR}/packages/ui`)).toBe(true);\n  });\n\n  it('generated project passes all checks', async () =\u003e {\n    // Install deps\n    await $`bun install`.cwd(TEST_DIR);\n    \n    // Run checks\n    const lint = await $`bun lint`.cwd(TEST_DIR);\n    const typecheck = await $`bun typecheck`.cwd(TEST_DIR);\n    const test = await $`bun test`.cwd(TEST_DIR);\n    const build = await $`bun build`.cwd(TEST_DIR);\n    \n    expect(lint.exitCode).toBe(0);\n    expect(typecheck.exitCode).toBe(0);\n    expect(test.exitCode).toBe(0);\n    expect(build.exitCode).toBe(0);\n  });\n});\n```\n\n## Test Scenarios\n1. All modules selected\n2. Minimal (web only)\n3. API + UI only\n4. With --dry-run flag\n5. With existing directory + --force\n\n## Acceptance Criteria\n- [ ] Test generates real project\n- [ ] Verifies project structure\n- [ ] Runs lint, typecheck, test, build\n- [ ] All commands pass\n- [ ] Cleans up after test","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:55.340685-06:00","updated_at":"2025-11-26T23:26:22.976199-06:00","closed_at":"2025-11-26T23:26:22.976199-06:00","dependencies":[{"issue_id":"turbokit-apr","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:55.342761-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-apr","depends_on_id":"turbokit-bge","type":"blocks","created_at":"2025-11-26T21:49:14.89328-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-apr","depends_on_id":"turbokit-2jr","type":"blocks","created_at":"2025-11-26T21:49:14.931993-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-azw","title":"Create mobile src/config/env.ts.template with platform-aware URL helper","description":"## Task\nCreate the platform-aware environment configuration for mobile apps.\n\n## File Location\ntemplates/apps/mobile/src/config/env.ts.template\n\n## Template Content\n```typescript\nimport Constants from \"expo-constants\";\nimport { Platform } from \"react-native\";\n\ninterface AppConfig {\n  apiUrl: string;\n}\n\n/**\n * Get the appropriate localhost URL for the current platform.\n * - iOS Simulator: localhost works directly\n * - Android Emulator: needs 10.0.2.2 (Android's alias for host loopback)\n * - Physical device: needs the machine's local network IP (set via API_URL env var)\n */\nfunction getLocalhostUrl(port: number): string {\n  if (Platform.OS === \"android\") {\n    // Android emulator uses 10.0.2.2 to reach host machine\n    return `http://10.0.2.2:${port}`;\n  }\n  // iOS simulator and web can use localhost\n  return `http://localhost:${port}`;\n}\n\nfunction getConfig(): AppConfig {\n  const extra = Constants.expoConfig?.extra;\n  \n  // If API_URL is explicitly set in app.config.ts, use it (for production/staging)\n  // Otherwise, use platform-aware localhost for development\n  const apiUrl = extra?.apiUrl || getLocalhostUrl(3001);\n  \n  return { apiUrl };\n}\n\nexport const config = getConfig();\n\nexport function getApiUrl(): string {\n  return config.apiUrl;\n}\n```\n\n## Why This File Exists (Critical Knowledge)\n\n### The Problem\nReact Native on different platforms handles `localhost` differently:\n- **iOS Simulator**: Runs on macOS, shares network stack, `localhost:3001` works\n- **Android Emulator**: Runs in its own VM, `localhost` means the emulator itself, NOT your dev machine\n\n### The Solution\nAndroid provides a special IP `10.0.2.2` that always routes to the host machine. This file automatically uses the right URL based on platform.\n\n### Physical Device Development\nFor physical devices, neither `localhost` nor `10.0.2.2` work. Developers must:\n1. Find their computer's local network IP (e.g., `192.168.1.100`)\n2. Set `API_URL=http://192.168.1.100:3001` in `.env`\n3. Ensure phone and computer are on the same network\n\nThis is documented in the README (turbokit-64p).\n\n## How API_URL Gets to This File\n1. `.env` file has `API_URL=http://...`\n2. `app.config.ts` imports `dotenv/config` and reads `process.env.API_URL`\n3. `app.config.ts` puts it in `extra.apiUrl`\n4. This file reads `Constants.expoConfig?.extra?.apiUrl`\n\n## Conditional Generation\nThis file is ONLY generated when API module is selected.\n\n## Acceptance Criteria\n- [ ] Platform detection for iOS vs Android\n- [ ] 10.0.2.2 used for Android emulator\n- [ ] localhost used for iOS simulator  \n- [ ] Respects explicit API_URL override from app.config.ts\n- [ ] Proper JSDoc comments explaining behavior\n- [ ] Uses double quotes (matches project style)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:47:48.082735-06:00","updated_at":"2025-12-07T14:16:21.165547-06:00","closed_at":"2025-12-07T14:16:21.165547-06:00","dependencies":[{"issue_id":"turbokit-azw","depends_on_id":"turbokit-11m","type":"blocks","created_at":"2025-12-07T13:47:48.084245-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-b6n","title":"Add api-client package to generator when API is selected","description":"## Task\nUpdate the generator to create the packages/api-client directory when API module is selected.\n\n## File Location\nsrc/generator/generate.ts (main orchestrator)\n\n## Current Generator Structure\nThe generator currently handles packages like config and ui. We need to add api-client with conditional generation.\n\n## Implementation\n\n### Option 1: Use Existing Conditional File Logic\nIf turbokit-tcv is implemented first, the api-client package can be handled by the conditional file registry:\n```typescript\n// In conditionalFiles registry\n{ templatePath: \"packages/api-client/\", condition: (m) =\u003e m.api },\n```\n\nThis automatically skips the entire api-client directory when API is not selected.\n\n### Option 2: Explicit Package List\nAlternatively, maintain an explicit list in generate.ts:\n```typescript\ninterface PackageConfig {\n  name: string;\n  templateDir: string;\n  condition?: (modules: ModuleSelection) =\u003e boolean;\n}\n\nconst packages: PackageConfig[] = [\n  { name: \"config\", templateDir: \"packages/config\" },\n  { name: \"ui\", templateDir: \"packages/ui\", condition: (m) =\u003e m.ui },\n  { name: \"api-client\", templateDir: \"packages/api-client\", condition: (m) =\u003e m.api },\n];\n```\n\n### Recommended: Option 1\nUse the conditional file logic from turbokit-tcv. This is simpler and keeps all conditional logic in one place.\n\n## Template Directory Structure\nThe api-client templates will be at (created by Phase 2 tasks):\n```\ntemplates/packages/api-client/\n├── src/\n│   ├── client.ts.template     (turbokit-ove)\n│   ├── hooks.ts.template      (turbokit-7d7)\n│   └── index.ts.template      (turbokit-2yd)\n├── package.json.template      (turbokit-moa)\n└── tsconfig.json.template     (turbokit-l2v)\n```\n\n## Workspace Registration\nNo changes needed - the root package.json already has:\n```json\n\"workspaces\": [\"apps/*\", \"packages/*\"]\n```\n\nThis automatically includes packages/api-client when it exists.\n\n## Acceptance Criteria\n- [ ] api-client package generated when API selected\n- [ ] api-client package NOT generated when API not selected\n- [ ] All template files copied (5 files total)\n- [ ] Variables substituted correctly ({{scope}}, etc.)\n- [ ] Package appears in workspace after `bun install`\n- [ ] Works with conditional file logic from turbokit-tcv","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:49:59.838839-06:00","updated_at":"2025-12-07T19:14:04.139949-06:00","closed_at":"2025-12-07T19:14:04.139949-06:00","dependencies":[{"issue_id":"turbokit-b6n","depends_on_id":"turbokit-385","type":"blocks","created_at":"2025-12-07T13:49:59.840372-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-bcq","title":"Implement argument parser (src/cli/parseArgs.ts) with all flags","description":"## Task\nImplement CLI argument parsing with support for all flags defined in the spec.\n\n## Flags to Support\n```\n--name \u003cstring\u003e     Project name (kebab-case)\n--path \u003cpath\u003e       Target directory (default: ./\u003cname\u003e)\n--web               Include web app\n--mobile            Include mobile app\n--api               Include API app\n--storybook         Include Storybook app\n--ui                Include UI package\n--yes, -y           Skip prompts, use defaults\n--dry-run           Print file tree, don't write\n--verbose, -v       Show detailed output\n--force, -f         Overwrite existing directory\n--help, -h          Show help\n--version           Show version\n```\n\n## Implementation Notes\n- Use a CLI parsing library (e.g., commander, yargs, or native Bun.argv)\n- Return CLIFlags interface\n- --help should print formatted usage info\n- Boolean flags should default to false\n- Handle unknown flags gracefully\n\n## File Location\nsrc/cli/parseArgs.ts\n\n## Signature\n```typescript\nfunction parseArgs(argv: string[]): CLIFlags;\n```\n\n## Acceptance Criteria\n- [ ] All flags parsed correctly\n- [ ] Short aliases work (-y, -v, -f, -h)\n- [ ] --help prints usage and exits\n- [ ] --version prints version and exits\n- [ ] Unknown flags show error","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:04.190829-06:00","updated_at":"2025-11-26T22:25:05.511783-06:00","closed_at":"2025-11-26T22:25:05.511783-06:00","dependencies":[{"issue_id":"turbokit-bcq","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:40:04.192624-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-bcq","depends_on_id":"turbokit-8fa","type":"blocks","created_at":"2025-11-26T21:40:04.193833-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-bge","title":"Test bunx create-project execution","description":"## Task\nTest that bunx create-project execution works correctly.\n\n## Test Scenarios\n\n### 1. bunx Execution\n```bash\n# From npm registry (after publish)\nbunx create-project --name test-proj --yes\n\n# Local testing with file: protocol\nbunx file:./path/to/create-project --name test-proj --yes\n```\n\n### 2. Global Install\n```bash\nnpm install -g ./path/to/create-project\ncreate-project --name test-proj --yes\n```\n\n### 3. npm link (Development)\n```bash\ncd create-project\nnpm link\ncd /tmp\ncreate-project --name test-proj --yes\n```\n\n## Verification Steps\n1. Command executes without errors\n2. All prompts work (or skipped with --yes)\n3. Project generated in correct location\n4. Generated project structure is correct\n\n## Common Issues\n- Shebang not recognized\n- Templates not found (path resolution)\n- Permissions issues\n\n## Acceptance Criteria\n- [ ] bunx execution works\n- [ ] Global install works\n- [ ] npm link works for development\n- [ ] Templates found in all execution modes","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:53.266624-06:00","updated_at":"2025-11-26T23:26:22.792898-06:00","closed_at":"2025-11-26T23:26:22.792898-06:00","dependencies":[{"issue_id":"turbokit-bge","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:53.269058-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-bge","depends_on_id":"turbokit-sfn","type":"blocks","created_at":"2025-11-26T21:49:14.8041-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-bge","depends_on_id":"turbokit-uxl","type":"blocks","created_at":"2025-11-26T21:49:14.847073-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-bn7","title":"Configure CLI package.json for npm publishing (bin, main, files fields)","description":"## Task\nConfigure the CLI package.json for npm publishing.\n\n## Required Fields\n```json\n{\n  \"name\": \"create-project\",\n  \"version\": \"0.1.0\",\n  \"description\": \"CLI to generate Turborepo-based monorepo projects\",\n  \"type\": \"module\",\n  \"bin\": {\n    \"create-project\": \"./bin/create-project.ts\"\n  },\n  \"main\": \"./src/index.ts\",\n  \"files\": [\n    \"bin\",\n    \"src\",\n    \"templates\",\n    \"dist\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/your-org/create-project\"\n  },\n  \"keywords\": [\n    \"cli\",\n    \"generator\",\n    \"turborepo\",\n    \"monorepo\",\n    \"react\",\n    \"typescript\",\n    \"bun\"\n  ],\n  \"author\": \"\",\n  \"license\": \"MIT\",\n  \"engines\": {\n    \"node\": \"\u003e=18\"\n  }\n}\n```\n\n## Key Points\n- `bin` field maps command name to entry point\n- `files` array controls what gets published\n- Include templates directory\n- `type: module` for ESM\n\n## Acceptance Criteria\n- [ ] All required fields present\n- [ ] bin field correctly configured\n- [ ] files array includes necessary files\n- [ ] Package validates with `npm pack --dry-run`","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:50.396156-06:00","updated_at":"2025-11-26T23:12:42.244534-06:00","closed_at":"2025-11-26T23:12:42.244534-06:00","dependencies":[{"issue_id":"turbokit-bn7","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:50.3988-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-bn7","depends_on_id":"turbokit-ld5","type":"blocks","created_at":"2025-11-26T21:40:50.399805-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-bn7","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:49:14.677934-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-csq","title":"Create mobile QueryProvider.tsx.template with React Query setup","description":"## Task\nCreate the QueryProvider component for the mobile app.\n\n## File Location\ntemplates/apps/mobile/src/providers/QueryProvider.tsx.template\n\n## Template Content\n```typescript\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ReactNode, useState } from \"react\";\n\ninterface QueryProviderProps {\n  children: ReactNode;\n}\n\nexport function QueryProvider({ children }: QueryProviderProps) {\n  // Create QueryClient in useState to ensure it's only created once\n  const [queryClient] = useState(\n    () =\u003e\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 1000 * 60, // 1 minute\n            retry: 2,\n          },\n        },\n      })\n  );\n\n  return (\n    \u003cQueryClientProvider client={queryClient}\u003e\n      {children}\n    \u003c/QueryClientProvider\u003e\n  );\n}\n```\n\n## Key Differences from Web Version\n- **No DevTools**: TanStack Query DevTools are not available in React Native\n- Otherwise identical to web version\n\n## Implementation Notes\n- `useState` for QueryClient prevents re-creation on re-renders (important in StrictMode)\n- `staleTime: 60s` reduces unnecessary refetches\n- `retry: 2` provides resilience without excessive retries\n\n## Always Generated\nThis file is always generated, even without API module selected.\nTanStack Query is useful for any async data fetching, not just our API.\n\n## Acceptance Criteria\n- [ ] QueryClient created with sensible defaults\n- [ ] No DevTools (not available in React Native)\n- [ ] Proper TypeScript types\n- [ ] Uses useState pattern for client creation\n- [ ] Uses double quotes (project style)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:47:35.968066-06:00","updated_at":"2025-12-07T14:16:19.913753-06:00","closed_at":"2025-12-07T14:16:19.913753-06:00","dependencies":[{"issue_id":"turbokit-csq","depends_on_id":"turbokit-11m","type":"blocks","created_at":"2025-12-07T13:47:35.970044-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-cxy","title":"Implement conditional dependency injection in package.json templates","description":"## Task\nImplement logic to conditionally add dependencies to package.json files based on module selection.\n\n## File Location\nImplementation can be done via template variants (recommended) or dynamic injection.\n\n## The Problem\npackage.json files need different dependencies based on module selection:\n- Web with API: needs @scope/api-client\n- Web without API: no api-client dependency\n- Mobile with API: needs @scope/api-client, expo-constants, dotenv\n- Mobile without API: none of those\n\n## Recommended Implementation: Template Variants\n\nUse the same variant system as App.tsx (see turbokit-385):\n\n### Create Variant Templates\n1. `templates/apps/web/package.json.template` - without API deps (update existing)\n2. `templates/apps/web/package.with-api.json.template` - with API deps (new)\n3. `templates/apps/mobile/package.json.template` - without API deps (update existing)\n4. `templates/apps/mobile/package.with-api.json.template` - with API deps (new)\n\n### Register in Template Variants\nAlready handled in turbokit-385 - the variant registry includes:\n```typescript\n{\n  outputPath: \"apps/web/package.json\",\n  defaultTemplate: \"apps/web/package.json.template\",\n  variantTemplate: \"apps/web/package.with-api.json.template\",\n  condition: (m) =\u003e m.api,\n},\n{\n  outputPath: \"apps/mobile/package.json\",\n  defaultTemplate: \"apps/mobile/package.json.template\",\n  variantTemplate: \"apps/mobile/package.with-api.json.template\",\n  condition: (m) =\u003e m.api,\n},\n```\n\n## Alternative: Dynamic Injection (Not Recommended)\nParse package.json, inject dependencies, re-serialize. More complex and error-prone.\n\n## Template Content\n\n### Web package.json variants\nSee turbokit-1vl for the exact content of both variants.\n\n### Mobile package.json variants\nSee turbokit-56g for the exact content of both variants.\n\n## Why Variants Over Injection\n- **Simpler**: No JSON parsing/serialization logic needed\n- **Predictable**: What you see in the template is what you get\n- **Consistent**: Same approach as App.tsx variants\n- **Testable**: Easy to verify templates independently\n\n## Acceptance Criteria\n- [ ] Web package.json has correct dependencies based on API selection\n- [ ] Mobile package.json has correct dependencies based on API selection\n- [ ] Both .with-api.json.template files created\n- [ ] Dependencies are properly formatted JSON\n- [ ] workspace:* protocol used for internal deps\n- [ ] Variant selection logic reuses turbokit-385 implementation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:50:10.900539-06:00","updated_at":"2025-12-07T19:14:05.911884-06:00","closed_at":"2025-12-07T19:14:05.911884-06:00","dependencies":[{"issue_id":"turbokit-cxy","depends_on_id":"turbokit-b6n","type":"blocks","created_at":"2025-12-07T13:50:10.901915-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-db1","title":"Add unit tests for generator modules (applyVariables, copyTemplate, writeFiles)","description":"## Task\nAdd unit tests for template generation modules.\n\n## Files to Test\n- src/generator/applyVariables.ts - token replacement\n- src/generator/copyTemplate.ts - directory copying\n- src/generator/writeFiles.ts - file writing\n\n## Test Cases\n- applyVariables: basic tokens, nested tokens, missing tokens\n- copyTemplate: full directory copy, filtered copy\n- writeFiles: single file, directory creation\n\n## File Location\ntests/unit/\n\n## Acceptance Criteria\n- [ ] Test coverage for all token types\n- [ ] Filesystem operations tested with temp dirs\n- [ ] Edge cases covered (empty dirs, special chars)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:53:53.196578-06:00","updated_at":"2025-12-07T13:09:15.634045-06:00","closed_at":"2025-12-07T13:09:15.634045-06:00","dependencies":[{"issue_id":"turbokit-db1","depends_on_id":"turbokit-4nf","type":"blocks","created_at":"2025-11-26T21:53:53.198706-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-db1","depends_on_id":"turbokit-q2d","type":"blocks","created_at":"2025-11-26T21:53:53.1997-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-db1","depends_on_id":"turbokit-qqi","type":"blocks","created_at":"2025-11-26T21:53:53.200499-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-dfu","title":"Implement dependency installer (src/generator/installDeps.ts) using bun install","description":"## Task\nImplement the dependency installer that runs bun install in the generated project.\n\n## API Design\n```typescript\ninterface InstallOptions {\n  cwd: string;          // Project directory\n  verbose: boolean;     // Show install output\n  logger: Logger;\n}\n\nasync function installDeps(options: InstallOptions): Promise\u003cvoid\u003e;\n```\n\n## Implementation\n```typescript\nimport { $ } from 'bun';\n\nasync function installDeps({ cwd, verbose, logger }: InstallOptions) {\n  logger.step(1, 1, 'Installing dependencies...');\n  \n  const result = await $`bun install`.cwd(cwd).quiet(!verbose);\n  \n  if (result.exitCode !== 0) {\n    throw new Error(`Failed to install dependencies: ${result.stderr}`);\n  }\n  \n  logger.success('Dependencies installed');\n}\n```\n\n## Error Handling\n- Catch and wrap errors with helpful messages\n- Suggest: \"Try running 'bun install' manually\"\n- Check if bun is installed first\n\n## File Location\nsrc/generator/installDeps.ts\n\n## Acceptance Criteria\n- [ ] bun install runs successfully\n- [ ] Verbose mode shows install output\n- [ ] Errors caught and reported cleanly\n- [ ] Works in generated project directory","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:41.167392-06:00","updated_at":"2025-11-26T23:09:40.146322-06:00","closed_at":"2025-11-26T23:09:40.146322-06:00","dependencies":[{"issue_id":"turbokit-dfu","depends_on_id":"turbokit-dz8","type":"related","created_at":"2025-11-26T21:40:41.16921-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-dfu","depends_on_id":"turbokit-uxl","type":"blocks","created_at":"2025-11-26T21:40:41.169794-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-dof","title":"Write CLI README with usage instructions","description":"## Task\nWrite comprehensive README for the CLI package.\n\n## README Structure\n\n### Header\n- Package name and badges (npm version, license)\n- One-line description\n\n### Quick Start\n```bash\nbunx create-project\n# or\nnpm install -g create-project\ncreate-project\n```\n\n### Features\n- Turborepo monorepo structure\n- Bun runtime + package manager\n- TypeScript everywhere\n- Optional modules: Web, Mobile, API, Storybook\n- Shared config and UI packages\n- Pre-configured CI/CD\n\n### Usage\n```bash\ncreate-project [options]\n\nOptions:\n  --name \u003cname\u003e     Project name\n  --path \u003cpath\u003e     Target directory\n  --web             Include web app (React + Vite)\n  --mobile          Include mobile app (Expo)\n  --api             Include API server (Hono)\n  --storybook       Include Storybook\n  --ui              Include UI package\n  --yes, -y         Skip prompts\n  --dry-run         Preview without creating files\n  --verbose, -v     Detailed output\n  --force, -f       Overwrite existing directory\n  --help, -h        Show help\n  --version         Show version\n```\n\n### Examples\n- Basic usage\n- With all modules\n- Specific modules only\n- Dry run example\n\n### Generated Project Structure\n- Directory tree\n- Description of each app/package\n\n### Requirements\n- Bun \u003e= 1.0\n- Git (for initialization)\n\n### License\nMIT\n\n## Acceptance Criteria\n- [ ] All flags documented\n- [ ] Examples are accurate\n- [ ] Installation instructions work\n- [ ] Generated structure documented","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-26T21:40:54.186995-06:00","updated_at":"2025-11-26T23:26:23.137722-06:00","closed_at":"2025-11-26T23:26:23.137722-06:00","dependencies":[{"issue_id":"turbokit-dof","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:54.189125-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-dof","depends_on_id":"turbokit-apr","type":"blocks","created_at":"2025-11-26T21:49:14.971514-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-dz8","title":"Project Bootstrapping - Dependency install, Husky, git init, CI workflow","description":"## Overview\nImplement the post-generation steps that make the project immediately usable: dependency installation, git setup, and CI/CD configuration.\n\n## Scope\n\n### Dependency Installation\n- Run `bun install` in generated project root\n- Handle errors gracefully with helpful messages\n- Support --verbose for detailed output\n\n### Husky Setup\n- Initialize Husky: `bunx husky install`\n- Create pre-commit hook running: bun lint, bun typecheck, bun test, bun build\n- No pre-push hook (per spec)\n\n### Git Initialization\n- `git init` in project root\n- Create initial commit with message \"Initial commit from create-project\"\n- Ensure .gitignore is in place before commit\n\n### CI Workflow\n- .github/workflows/ci.yml template\n- Steps: checkout, setup-bun, bun install, bun lint, bun typecheck, bun test, bun build\n- Trigger on push and pull_request to main\n\n## Execution Order\n1. Write all template files\n2. Run bun install\n3. Setup Husky (requires node_modules)\n4. Git init + initial commit\n\n## Dependencies\n- Requires: Template System (turbokit-fay) - generate.ts orchestrator\n- Requires: All template files written first\n\n## Success Criteria\n- `bun install` completes without errors\n- Pre-commit hook runs all checks\n- Git repo initialized with clean initial commit\n- CI workflow validates on GitHub Actions","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:39:50.391825-06:00","updated_at":"2025-11-26T23:09:49.607404-06:00","closed_at":"2025-11-26T23:09:49.607404-06:00"}
{"id":"turbokit-dzb","title":"Create web App.tsx.template variants (with/without API)","description":"## Task\nCreate two variants of the web App.tsx template based on whether API module is selected.\n\n## File Locations\n- templates/apps/web/src/App.tsx.template (without API - update existing)\n- templates/apps/web/src/App.with-api.tsx.template (with API - new file)\n\n## Current State (actual file content)\n```typescript\nimport { Button } from \"@{{scope}}/ui\";\n\nfunction App() {\n  return (\n    \u003cdiv\u003e\n      \u003ch1\u003e{{projectName}}\u003c/h1\u003e\n      \u003cp\u003eWelcome to your new web app!\u003c/p\u003e\n      \u003cButton\u003eClick me\u003c/Button\u003e\n    \u003c/div\u003e\n  );\n}\n\nexport default App;\n```\n\n## Template Content (WITHOUT API) - Keep current, no changes needed\nThe existing template is already suitable for the \"without API\" variant.\n\n## Template Content (WITH API) - New file\n```typescript\nimport { Button } from \"@{{scope}}/ui\";\nimport { useHealth } from \"./api\";\n\nfunction App() {\n  const { data, isLoading, error } = useHealth();\n\n  return (\n    \u003cdiv\u003e\n      \u003ch1\u003e{{projectName}}\u003c/h1\u003e\n      \u003cp\u003eWelcome to your new web app!\u003c/p\u003e\n      \u003cButton\u003eClick me\u003c/Button\u003e\n      \n      \u003cdiv style={{ marginTop: \"1rem\" }}\u003e\n        {isLoading \u0026\u0026 \u003cp\u003eConnecting to API...\u003c/p\u003e}\n        {error \u0026\u0026 \u003cp style={{ color: \"#ef4444\" }}\u003eAPI Error: {error.message}\u003c/p\u003e}\n        {data \u0026\u0026 (\n          \u003cp style={{ color: \"#22c55e\" }}\u003e\n            API Status: {data.status}\n          \u003c/p\u003e\n        )}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n\nexport default App;\n```\n\n## Generator Logic\nThe generator should select the appropriate template based on module selection:\n- If API selected: use App.with-api.tsx.template -\u003e App.tsx\n- If API not selected: use App.tsx.template -\u003e App.tsx (current behavior)\n\n## Note on UI Package Dependency\nBoth variants import from @{{scope}}/ui. The existing template already does this, so we maintain consistency.\n\n## Acceptance Criteria\n- [ ] Keep existing App.tsx.template as the \"without API\" variant\n- [ ] Create new App.with-api.tsx.template with API demo\n- [ ] With-API version demonstrates useHealth hook\n- [ ] Both use consistent styling approach (matches existing)\n- [ ] Both import Button from @scope/ui (maintains existing pattern)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:57.686775-06:00","updated_at":"2025-12-07T14:16:12.916015-06:00","closed_at":"2025-12-07T14:16:12.916015-06:00","dependencies":[{"issue_id":"turbokit-dzb","depends_on_id":"turbokit-4jx","type":"blocks","created_at":"2025-12-07T13:46:57.689807-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-dzb","depends_on_id":"turbokit-a7m","type":"blocks","created_at":"2025-12-07T13:46:57.691092-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-e8m","title":"App Templates - Web, Mobile, API, and Storybook scaffolds","description":"## Overview\nCreate the four app templates that can be selected during project generation.\n\n## Scope\nEach app template is independent and can be worked on in parallel.\n\n### Web App (apps/web)\n- React 18 + Vite\n- vitest + @testing-library/react for testing\n- Extends @{{scope}}/config tsconfig.react.json\n- Imports from @{{scope}}/ui (if ui package selected)\n\n### Mobile App (apps/mobile)\n- Expo SDK (latest stable)\n- React Native with TypeScript\n- Extends @{{scope}}/config tsconfig.react.json\n- Metro bundler configuration\n\n### API App (apps/api)\n- Bun runtime\n- Hono framework for HTTP\n- Extends @{{scope}}/config tsconfig.node.json\n- Basic health check endpoint\n\n### Storybook App (apps/storybook)\n- Storybook 7+ with Vite builder\n- React framework\n- Configured to find stories in @{{scope}}/ui\n- Extends @{{scope}}/config\n\n## Key Files per App\n- package.json (with workspace:* deps)\n- tsconfig.json (extends config package)\n- src/ directory with entry point\n- App-specific config (vite.config.ts, app.json, etc.)\n\n## Dependencies\n- Requires: Template System (turbokit-fay) - templates directory structure\n- Requires: Shared Packages (turbokit-5ml) - config package for tsconfigs\n\n## Success Criteria\n- Each app runs independently: bun dev, bun build, bun test\n- Apps properly extend shared config\n- Storybook renders UI package components","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:39:49.069788-06:00","updated_at":"2025-11-26T23:04:46.737561-06:00","closed_at":"2025-11-26T23:04:46.737561-06:00"}
{"id":"turbokit-fay","title":"Template System - Template files, token replacement engine, and file copying logic","description":"## Overview\nBuild the template engine that copies, transforms, and writes template files to create the generated project.\n\n## Scope\n- Template directory structure mirroring the output monorepo\n- Token replacement engine: {{projectName}}, {{scope}}, version placeholders\n- Recursive directory copying with file filtering\n- File writing with proper permissions\n- Dry-run mode: print file tree without writing\n\n## Key Files\n- templates/root/ (package.json, tsconfig.json, turbo.json, .gitignore, .editorconfig)\n- templates/apps/ (web/, mobile/, api/, storybook/)\n- templates/packages/ (config/, ui/)\n- templates/pipelines/ (ci.yml)\n- src/generator/applyVariables.ts\n- src/generator/copyTemplate.ts\n- src/generator/writeFiles.ts\n- src/generator/generate.ts (orchestrator)\n\n## Token Variables\n- {{projectName}} - kebab-case project name\n- {{scope}} - npm scope (e.g., @myproject)\n- {{year}} - current year for LICENSE\n- Package versions should use workspace:* for internal deps\n\n## Dependencies\n- Requires: CLI Foundation (turbokit-3xw) for types and utilities\n\n## Success Criteria\n- Templates directory contains all required scaffolding files\n- Token replacement handles all {{variable}} patterns\n- Dry-run prints accurate file tree\n- Generated files have correct permissions (especially scripts)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-26T21:39:48.375626-06:00","updated_at":"2025-11-26T22:38:25.001442-06:00","closed_at":"2025-11-26T22:38:25.001442-06:00"}
{"id":"turbokit-j4b","title":"Create templates directory structure","description":"## Task\nCreate the templates directory structure that mirrors the output monorepo layout.\n\n## Directory Structure\n```\ntemplates/\n  root/\n    package.json.template\n    tsconfig.json.template\n    turbo.json.template\n    .gitignore.template\n    .editorconfig.template\n    README.md.template\n    AGENTS.md.template\n  apps/\n    web/\n    mobile/\n    api/\n    storybook/\n  packages/\n    config/\n    ui/\n  pipelines/\n    ci.yml.template\n  husky/\n    pre-commit.template\n```\n\n## Implementation Notes\n- Use .template extension for files needing variable substitution\n- Create empty placeholder files initially (content in later tasks)\n- Each app/package dir should have its own structure\n\n## File Location\ntemplates/ directory at CLI project root\n\n## Acceptance Criteria\n- [ ] All directories created\n- [ ] Directory structure matches spec\n- [ ] Placeholder files exist\n- [ ] Structure documented in code comments","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:12.068039-06:00","updated_at":"2025-11-26T22:35:00.385383-06:00","closed_at":"2025-11-26T22:35:00.385383-06:00","dependencies":[{"issue_id":"turbokit-j4b","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:12.069811-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-j4b","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:48:52.254736-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-k6s","title":"Create mobile App.tsx.template variants (with/without API)","description":"## Task\nCreate two variants of the mobile App.tsx template based on whether API module is selected.\n\n## File Locations\n- templates/apps/mobile/App.tsx.template (without API - update existing)\n- templates/apps/mobile/App.with-api.tsx.template (with API - new file)\n\n## Current State (actual file content)\n```typescript\nimport { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, Text, View } from \"react-native\";\n\nexport default function App() {\n  return (\n    \u003cView style={styles.container}\u003e\n      \u003cText style={styles.title}\u003e{{projectName}}\u003c/Text\u003e\n      \u003cText style={styles.subtitle}\u003eMobile App\u003c/Text\u003e\n      \u003cStatusBar style=\"auto\" /\u003e\n    \u003c/View\u003e\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: \"#666\",\n  },\n});\n```\n\n## Template Content (WITHOUT API) - Update to add QueryProvider\n```typescript\nimport { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport { QueryProvider } from \"./src/providers/QueryProvider\";\n\nfunction HomeScreen() {\n  return (\n    \u003cView style={styles.container}\u003e\n      \u003cText style={styles.title}\u003e{{projectName}}\u003c/Text\u003e\n      \u003cText style={styles.subtitle}\u003eMobile App\u003c/Text\u003e\n      \u003cStatusBar style=\"auto\" /\u003e\n    \u003c/View\u003e\n  );\n}\n\nexport default function App() {\n  return (\n    \u003cQueryProvider\u003e\n      \u003cHomeScreen /\u003e\n    \u003c/QueryProvider\u003e\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: \"#666\",\n  },\n});\n```\n\n## Template Content (WITH API) - New file\n```typescript\nimport { StatusBar } from \"expo-status-bar\";\nimport { StyleSheet, Text, View } from \"react-native\";\nimport { QueryProvider } from \"./src/providers/QueryProvider\";\nimport { useHealth } from \"./src/api\";\n\nfunction HomeScreen() {\n  const { data, isLoading, error } = useHealth();\n\n  return (\n    \u003cView style={styles.container}\u003e\n      \u003cText style={styles.title}\u003e{{projectName}}\u003c/Text\u003e\n      \u003cText style={styles.subtitle}\u003eMobile App\u003c/Text\u003e\n      \n      {isLoading \u0026\u0026 \u003cText style={styles.status}\u003eConnecting to API...\u003c/Text\u003e}\n      {error \u0026\u0026 \u003cText style={styles.error}\u003eAPI Error: {error.message}\u003c/Text\u003e}\n      {data \u0026\u0026 (\n        \u003cText style={styles.success}\u003eAPI Status: {data.status}\u003c/Text\u003e\n      )}\n      \n      \u003cStatusBar style=\"auto\" /\u003e\n    \u003c/View\u003e\n  );\n}\n\nexport default function App() {\n  return (\n    \u003cQueryProvider\u003e\n      \u003cHomeScreen /\u003e\n    \u003c/QueryProvider\u003e\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: \"#666\",\n    marginBottom: 16,\n  },\n  status: {\n    fontSize: 14,\n    color: \"#666\",\n  },\n  success: {\n    fontSize: 14,\n    color: \"#22c55e\",\n  },\n  error: {\n    fontSize: 14,\n    color: \"#ef4444\",\n  },\n});\n```\n\n## Generator Logic\n- If API selected: use App.with-api.tsx.template -\u003e App.tsx\n- If API not selected: use App.tsx.template -\u003e App.tsx\n\n## Key Differences from Web Version\n- Uses React Native StyleSheet (not inline styles)\n- Imports from relative paths (./src/providers, ./src/api)\n- No DevTools (TanStack Query DevTools not available in React Native)\n\n## Acceptance Criteria\n- [ ] Update existing App.tsx.template to include QueryProvider wrapper\n- [ ] Create new App.with-api.tsx.template with API demo\n- [ ] With-API version demonstrates useHealth hook\n- [ ] Both wrap with QueryProvider\n- [ ] React Native StyleSheet used consistently\n- [ ] Maintains existing code style (double quotes)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:48:22.534957-06:00","updated_at":"2025-12-07T14:16:24.047737-06:00","closed_at":"2025-12-07T14:16:24.047737-06:00","dependencies":[{"issue_id":"turbokit-k6s","depends_on_id":"turbokit-nbr","type":"blocks","created_at":"2025-12-07T13:48:22.536468-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-k6s","depends_on_id":"turbokit-csq","type":"blocks","created_at":"2025-12-07T13:48:22.537633-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-l2v","title":"Create api-client/tsconfig.json.template","description":"## Task\nCreate the TypeScript configuration for the api-client package.\n\n## File Location\ntemplates/packages/api-client/tsconfig.json.template\n\n## Template Content\n```json\n{\n  \"extends\": \"@{{scope}}/config/tsconfig.json\",\n  \"compilerOptions\": {\n    \"noEmit\": true\n  },\n  \"include\": [\"src/**/*.ts\"]\n}\n```\n\n## Implementation Notes\n- Extends shared base config for consistency\n- noEmit since consuming apps handle bundling\n- Only includes src directory\n\n## Acceptance Criteria\n- [ ] Valid JSON syntax\n- [ ] Extends shared config package\n- [ ] noEmit set to true\n- [ ] Includes only src directory","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:12.386918-06:00","updated_at":"2025-12-07T14:12:59.469649-06:00","closed_at":"2025-12-07T14:12:59.469649-06:00","dependencies":[{"issue_id":"turbokit-l2v","depends_on_id":"turbokit-moa","type":"blocks","created_at":"2025-12-07T13:46:12.388471-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-ld5","title":"Wire up main CLI entry point (bin/create-project.ts, src/index.ts)","description":"## Task\nWire up the main CLI entry points that orchestrate the entire generation flow.\n\n## bin/create-project.ts\n```typescript\n#!/usr/bin/env bun\nimport { main } from '../src/index';\nmain(process.argv.slice(2));\n```\n\n## src/index.ts - Main Flow\n```typescript\nexport async function main(argv: string[]): Promise\u003cvoid\u003e {\n  // 1. Parse arguments\n  const flags = parseArgs(argv);\n  \n  // 2. Create logger\n  const logger = createLogger(flags.verbose);\n  \n  // 3. Prompt for missing config (unless --yes)\n  const config = await promptForConfig(flags);\n  \n  // 4. Validate config\n  const errors = await validateConfig(config, flags);\n  if (errors.length \u003e 0) {\n    // Print errors and exit\n  }\n  \n  // 5. Generate project (or dry-run)\n  if (flags.dryRun) {\n    printDryRun(config);\n  } else {\n    await generate(config, flags, logger);\n  }\n  \n  // 6. Print summary\n  printSummary(config, logger);\n}\n```\n\n## Error Handling\n- Wrap in try/catch\n- Show clean error messages\n- Exit with code 1 on error\n\n## File Locations\n- bin/create-project.ts\n- src/index.ts\n\n## Acceptance Criteria\n- [ ] `bun run bin/create-project.ts` executes\n- [ ] All steps called in correct order\n- [ ] Errors handled gracefully\n- [ ] Exit codes correct (0=success, 1=error)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:07.695888-06:00","updated_at":"2025-12-07T12:55:56.803749-06:00","closed_at":"2025-12-07T12:55:56.803749-06:00","dependencies":[{"issue_id":"turbokit-ld5","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:40:07.698328-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-ld5","depends_on_id":"turbokit-bcq","type":"blocks","created_at":"2025-11-26T21:48:45.370469-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-ld5","depends_on_id":"turbokit-8bm","type":"blocks","created_at":"2025-11-26T21:48:45.417832-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-ld5","depends_on_id":"turbokit-11a","type":"blocks","created_at":"2025-11-26T21:48:45.459568-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-ld5","depends_on_id":"turbokit-6ec","type":"blocks","created_at":"2025-11-26T21:48:45.501849-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-llm","title":"Implement error handling and user-friendly error messages","description":"## Task\nImplement comprehensive error handling throughout the CLI.\n\n## Error Categories\n- File system errors (directory exists, permission denied)\n- Network errors (bun install fails)\n- Git errors (git not installed)\n- Validation errors (invalid project name)\n\n## Implementation\n- Create custom error types in src/utils/errors.ts\n- Wrap all file operations with try/catch\n- Provide actionable error messages\n- Support --verbose for stack traces\n\n## User-Friendly Messages\n- Directory already exists → suggest --force\n- Git not installed → provide installation instructions\n- Invalid name → show valid format\n\n## Acceptance Criteria\n- [ ] All errors caught and handled gracefully\n- [ ] No raw stack traces shown (unless --verbose)\n- [ ] Actionable suggestions provided\n- [ ] Exit codes meaningful (0 success, 1 error)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:54:00.874554-06:00","updated_at":"2025-12-07T13:04:21.325291-06:00","closed_at":"2025-12-07T13:04:21.325291-06:00","dependencies":[{"issue_id":"turbokit-llm","depends_on_id":"turbokit-375","type":"blocks","created_at":"2025-11-26T21:54:00.876214-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-mir","title":"Create config package prettier.config.cjs","description":"## Task\nCreate the shared Prettier configuration for consistent code formatting.\n\n## File to Create\ntemplates/packages/config/prettier.config.cjs\n\n## Configuration\n```javascript\nmodule.exports = {\n  semi: true,\n  singleQuote: true,\n  tabWidth: 2,\n  trailingComma: 'es5',\n  printWidth: 100,\n  bracketSpacing: true,\n  arrowParens: 'always',\n  endOfLine: 'lf',\n};\n```\n\n## Usage in Apps\nApps can reference via:\n1. package.json: \"prettier\": \"@{{scope}}/config/prettier\"\n2. .prettierrc.cjs: module.exports = require('@{{scope}}/config/prettier')\n\n## Root .prettierignore Template\n```\nnode_modules\ndist\n.turbo\ncoverage\n*.min.js\n```\n\n## Acceptance Criteria\n- [ ] Config exports correctly as CJS\n- [ ] Consistent formatting rules\n- [ ] Works with all file types\n- [ ] Apps can extend/use this config","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:36.313479-06:00","updated_at":"2025-11-26T23:00:55.631744-06:00","closed_at":"2025-11-26T23:00:55.631744-06:00","dependencies":[{"issue_id":"turbokit-mir","depends_on_id":"turbokit-5ml","type":"related","created_at":"2025-11-26T21:40:36.315357-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-mir","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:36.316013-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-mk8","title":"Phase 3: Web App TanStack Query Integration","description":"## Overview\nAdd TanStack Query integration to the web app template with conditional API client setup.\n\n## Scope\n- Add QueryProvider.tsx template (always generated)\n- Add src/api/index.ts template (only when API selected)\n- Update main.tsx to wrap app with QueryProvider\n- Create App.tsx variants (with/without API demo)\n- Add .env.example template (only when API selected)\n- Update package.json with conditional dependencies\n\n## Conditional Generation Logic\n- QueryProvider: Always generated (TanStack Query useful for any data fetching)\n- src/api/: Only when API module is selected\n- .env.example: Only when API module is selected\n- @scope/api-client dependency: Only when API module is selected\n- react-query-devtools: Always (helpful for debugging)\n\n## Dependencies\n- Depends on Phase 2 (api-client package must exist)\n\n## Deliverables\n- templates/apps/web/src/providers/QueryProvider.tsx.template\n- templates/apps/web/src/api/index.ts.template (conditional)\n- Updated templates/apps/web/src/main.tsx.template\n- templates/apps/web/src/App.tsx.template (two variants)\n- templates/apps/web/.env.example.template (conditional)\n- Updated templates/apps/web/package.json.template","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:46:22.482936-06:00","updated_at":"2025-12-07T14:16:16.013658-06:00","closed_at":"2025-12-07T14:16:16.013658-06:00"}
{"id":"turbokit-moa","title":"Create api-client/package.json.template with dependencies","description":"## Task\nCreate the package.json for the api-client package.\n\n## File Location\ntemplates/packages/api-client/package.json.template\n\n## Template Content\n```json\n{\n  \"name\": \"@{{scope}}/api-client\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"main\": \"src/index.ts\",\n  \"types\": \"src/index.ts\",\n  \"scripts\": {\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"@{{scope}}/api\": \"workspace:*\",\n    \"@tanstack/react-query\": \"^5.62.0\",\n    \"hono\": \"^4.6.0\"\n  },\n  \"devDependencies\": {\n    \"@{{scope}}/config\": \"workspace:*\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Key Points\n- `main` and `types` point to source (not built files) for monorepo development\n- `workspace:*` for internal dependencies\n- hono dependency needed for `hc` client\n- @tanstack/react-query for hooks\n- Use `{{typescriptVersion}}` variable for consistency with other packages\n\n## Why Source as Entry Point\nIn a monorepo with TypeScript, pointing to source files:\n1. Enables go-to-definition across packages\n2. Avoids build step during development\n3. Gets bundled by the consuming app's build process\n\n## Acceptance Criteria\n- [ ] Valid JSON syntax\n- [ ] Workspace dependencies use workspace:* protocol\n- [ ] All required dependencies included\n- [ ] Entry points set to source files\n- [ ] Uses {{typescriptVersion}} variable (not hardcoded)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:46:06.960374-06:00","updated_at":"2025-12-07T14:12:58.710203-06:00","closed_at":"2025-12-07T14:12:58.710203-06:00","dependencies":[{"issue_id":"turbokit-moa","depends_on_id":"turbokit-2yd","type":"blocks","created_at":"2025-12-07T13:46:06.961826-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-nbr","title":"Create mobile src/api/index.ts.template for API client integration","description":"## Task\nCreate the mobile app's API client configuration.\n\n## File Location\ntemplates/apps/mobile/src/api/index.ts.template\n\n## Template Content\n```typescript\nimport { createApiClient, createApiHooks } from '@{{scope}}/api-client';\nimport { getApiUrl } from '../config/env';\n\n// Create client with platform-aware URL\nexport const api = createApiClient(getApiUrl());\n\n// Create and export hooks\nconst hooks = createApiHooks(api);\nexport const useHealth = hooks.useHealth;\n\n// Re-export types\nexport type { ApiClient, AppType } from '@{{scope}}/api-client';\n```\n\n## Key Difference from Web Version\nUses `getApiUrl()` from env.ts instead of import.meta.env, which provides platform-aware localhost URL.\n\n## Conditional Generation\nThis file is ONLY generated when API module is selected.\n\n## Acceptance Criteria\n- [ ] Imports from @scope/api-client\n- [ ] Uses getApiUrl() from env.ts\n- [ ] Exports pre-configured hooks\n- [ ] Re-exports types for convenience","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:47:56.438164-06:00","updated_at":"2025-12-07T14:16:22.147206-06:00","closed_at":"2025-12-07T14:16:22.147206-06:00","dependencies":[{"issue_id":"turbokit-nbr","depends_on_id":"turbokit-azw","type":"blocks","created_at":"2025-12-07T13:47:56.439497-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-nbr","depends_on_id":"turbokit-csq","type":"blocks","created_at":"2025-12-07T13:47:56.440333-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-okx","title":"Create UI package template with starter component","description":"## Task\nCreate the UI package template with a minimal starter component.\n\n## Files to Create\n```\ntemplates/packages/ui/\n  package.json.template\n  tsconfig.json.template\n  src/\n    index.ts.template\n    Button/\n      Button.tsx.template\n      Button.stories.tsx.template\n      index.ts\n```\n\n## package.json\n```json\n{\n  \"name\": \"@{{scope}}/ui\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"main\": \"./src/index.ts\",\n  \"types\": \"./src/index.ts\",\n  \"exports\": {\n    \".\": \"./src/index.ts\"\n  },\n  \"peerDependencies\": {\n    \"react\": \"^18.0.0\",\n    \"react-dom\": \"^18.0.0\"\n  },\n  \"devDependencies\": {\n    \"@types/react\": \"^18.0.0\",\n    \"@types/react-dom\": \"^18.0.0\",\n    \"typescript\": \"{{typescriptVersion}}\"\n  }\n}\n```\n\n## Button Component\n```typescript\ninterface ButtonProps {\n  children: React.ReactNode;\n  variant?: 'primary' | 'secondary';\n  onClick?: () =\u003e void;\n}\n\nexport function Button({ children, variant = 'primary', onClick }: ButtonProps) {\n  return (\n    \u003cbutton \n      onClick={onClick}\n      style={{ /* basic styles */ }}\n    \u003e\n      {children}\n    \u003c/button\u003e\n  );\n}\n```\n\n## src/index.ts\n```typescript\nexport { Button } from './Button';\nexport type { ButtonProps } from './Button';\n```\n\n## Acceptance Criteria\n- [ ] Button component renders\n- [ ] TypeScript types exported\n- [ ] Can be imported by other packages\n- [ ] peerDependencies set correctly\n- [ ] Story file for Storybook","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:37.138915-06:00","updated_at":"2025-11-26T23:00:56.499102-06:00","closed_at":"2025-11-26T23:00:56.499102-06:00","dependencies":[{"issue_id":"turbokit-okx","depends_on_id":"turbokit-5ml","type":"related","created_at":"2025-11-26T21:40:37.140606-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-okx","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:37.1412-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-okx","depends_on_id":"turbokit-v8t","type":"blocks","created_at":"2025-11-26T21:49:03.721933-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-ove","title":"Create api-client/src/client.ts.template with Hono RPC client factory","description":"## Task\nCreate the Hono RPC client factory that creates typed API clients.\n\n## File Location\ntemplates/packages/api-client/src/client.ts.template\n\n## Template Content\n```typescript\nimport { hc } from \"hono/client\";\nimport type { AppType } from \"@{{scope}}/api\";\n\n// Re-export AppType for convenience in consuming apps\nexport type { AppType };\n\n/**\n * Create a typed API client for the given base URL.\n * \n * @param baseUrl - The API base URL (e.g., \"http://localhost:3001\")\n * @returns A typed Hono RPC client\n * \n * @example\n * const api = createApiClient(\"http://localhost:3001\");\n * const res = await api.health.$get();\n * const data = await res.json(); // Typed!\n */\nexport function createApiClient(baseUrl: string) {\n  return hc\u003cAppType\u003e(baseUrl);\n}\n\nexport type ApiClient = ReturnType\u003ctypeof createApiClient\u003e;\n```\n\n## How Hono RPC Works\n\n### The Magic\n1. API exports `type AppType = typeof app` (route type info encoded in the type)\n2. `hc\u003cAppType\u003e` creates a client whose methods match the API routes\n3. TypeScript enforces correct paths, methods, params, and response types\n\n### Example Type Flow\n```typescript\n// API defines:\nconst app = new Hono().get(\"/health\", (c) =\u003e c.json({ status: \"ok\" }));\nexport type AppType = typeof app;\n\n// Client gets:\nconst api = createApiClient(baseUrl);\nconst res = await api.health.$get();     // Only $get exists (not $post)\nconst data = await res.json();            // Type: { status: string }\n```\n\n### Why Factory Pattern\nDifferent platforms need different base URLs:\n- **Web**: `import.meta.env.VITE_API_URL`\n- **Mobile iOS**: `http://localhost:3001`  \n- **Mobile Android**: `http://10.0.2.2:3001`\n- **Production**: `https://api.example.com`\n\nThe factory accepts the URL as a parameter, letting each platform configure it appropriately.\n\n## Type Import Path\nThe import `@{{scope}}/api` works because:\n1. It's a workspace package (workspace:*)\n2. API exports `type AppType = typeof app`\n3. TypeScript resolves it via the workspace\n\n**Important**: This only imports the TYPE, not the actual API code - the code only runs server-side.\n\n## Code Style\n- Use double quotes for strings (matches project style)\n- Include JSDoc documentation\n- Export both function and type\n\n## Acceptance Criteria\n- [ ] Exports createApiClient factory function\n- [ ] Exports ApiClient type for type annotations\n- [ ] Re-exports AppType from @scope/api\n- [ ] Uses hc from hono/client\n- [ ] Has JSDoc with usage example\n- [ ] Uses double quotes (project style)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:39.648296-06:00","updated_at":"2025-12-07T14:12:55.78341-06:00","closed_at":"2025-12-07T14:12:55.78341-06:00","dependencies":[{"issue_id":"turbokit-ove","depends_on_id":"turbokit-zuk","type":"blocks","created_at":"2025-12-07T13:45:39.649705-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-p1s","title":"Implement summary display (src/cli/summary.ts)","description":"## Task\nImplement the summary display shown after project generation completes.\n\n## Summary Content\n```\n✓ Created project \"my-project\" at ./my-project\n\nIncluded modules:\n  ✓ Web app (apps/web)\n  ✓ API server (apps/api)\n  ✓ UI package (packages/ui)\n  ✓ Config package (packages/config)\n\nNext steps:\n  cd my-project\n  bun dev\n\nAvailable commands:\n  bun dev        Start development servers\n  bun build      Build all packages\n  bun lint       Run linting\n  bun test       Run tests\n  bun typecheck  Check TypeScript types\n```\n\n## Implementation Notes\n- Use logger utility for consistent formatting\n- Only show included modules\n- Adjust \"cd\" command if already in project dir\n- Use colors for checkmarks and commands\n\n## File Location\nsrc/cli/summary.ts\n\n## Signature\n```typescript\nfunction printSummary(config: ProjectConfig, logger: Logger): void;\n```\n\n## Acceptance Criteria\n- [ ] Shows all selected modules\n- [ ] Next steps are accurate\n- [ ] Formatting is clean and readable\n- [ ] Uses colors appropriately","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:40:05.74255-06:00","updated_at":"2025-12-07T12:55:57.759723-06:00","closed_at":"2025-12-07T12:55:57.759723-06:00","dependencies":[{"issue_id":"turbokit-p1s","depends_on_id":"turbokit-6ec","type":"blocks","created_at":"2025-11-26T21:40:05.744391-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-paa","title":"Implement Husky setup (src/generator/setupHusky.ts) with pre-commit hook","description":"## Task\nImplement Husky setup to configure git hooks in the generated project.\n\n## API Design\n```typescript\ninterface HuskyOptions {\n  cwd: string;          // Project directory\n  verbose: boolean;\n  logger: Logger;\n}\n\nasync function setupHusky(options: HuskyOptions): Promise\u003cvoid\u003e;\n```\n\n## Implementation Steps\n1. Run `bunx husky install` to initialize .husky directory\n2. Pre-commit hook is already in templates (copied earlier)\n3. Ensure .husky/pre-commit is executable\n\n## Pre-commit Hook Content (from template)\n```bash\n#!/usr/bin/env sh\n. \"$(dirname -- \"$0\")/_/husky.sh\"\n\nbun lint\nbun typecheck\nbun test\nbun build\n```\n\n## Error Handling\n- Check that node_modules exists (bun install must run first)\n- Warn if husky install fails but don't block\n\n## File Location\nsrc/generator/setupHusky.ts\n\n## Acceptance Criteria\n- [ ] Husky initialized in .husky directory\n- [ ] Pre-commit hook is executable\n- [ ] Hook runs on git commit\n- [ ] Graceful handling if setup fails","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:42.357873-06:00","updated_at":"2025-11-26T23:09:40.208883-06:00","closed_at":"2025-11-26T23:09:40.208883-06:00","dependencies":[{"issue_id":"turbokit-paa","depends_on_id":"turbokit-dz8","type":"related","created_at":"2025-11-26T21:40:42.360188-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-paa","depends_on_id":"turbokit-uxl","type":"blocks","created_at":"2025-11-26T21:40:42.360787-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-paa","depends_on_id":"turbokit-dfu","type":"blocks","created_at":"2025-11-26T21:49:09.018775-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-paa","depends_on_id":"turbokit-3by","type":"blocks","created_at":"2025-11-26T21:49:09.058089-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-ptg","title":"Define default config values (src/config/defaults.ts)","description":"## Task\nDefine default configuration values used when flags are not provided.\n\n## Defaults to Define\n```typescript\nexport const DEFAULT_CONFIG = {\n  // Default modules when --yes is used without specific flags\n  modules: {\n    web: true,\n    mobile: false,\n    api: true,\n    storybook: false,\n    ui: true,\n  },\n  \n  // Default paths\n  defaultPath: '.', // current directory\n  \n  // Package versions (for templates)\n  versions: {\n    react: '^18.2.0',\n    typescript: '^5.3.0',\n    vite: '^5.0.0',\n    expo: '~50.0.0',\n    hono: '^3.11.0',\n    storybook: '^7.6.0',\n    vitest: '^1.0.0',\n    turbo: '^1.11.0',\n    eslint: '^8.55.0',\n    prettier: '^3.1.0',\n    husky: '^8.0.0',\n  },\n};\n```\n\n## File Location\nsrc/config/defaults.ts\n\n## Usage\n- parseArgs falls back to these when flags missing\n- Templates use version numbers from here\n- --yes flag uses default modules\n\n## Acceptance Criteria\n- [ ] All defaults exported and typed\n- [ ] Versions are current stable releases\n- [ ] Easy to update versions in one place","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:59.727067-06:00","updated_at":"2025-11-26T22:20:24.570634-06:00","closed_at":"2025-11-26T22:20:24.570634-06:00"}
{"id":"turbokit-pxg","title":"Phase 4: Mobile App TanStack Query Integration","description":"## Overview\nAdd TanStack Query integration to the mobile (Expo) app template with platform-aware API URL configuration.\n\n## Scope\n- Add QueryProvider.tsx template (always generated)\n- Add src/api/index.ts template (only when API selected)\n- Add src/config/env.ts template with platform-aware URL helper (only when API selected)\n- Replace app.json with app.config.ts for environment support\n- Create App.tsx variants (with/without API demo)\n- Add .env.example template (only when API selected)\n- Update package.json with conditional dependencies\n\n## Platform-Aware URL Logic\nCritical feature: mobile apps need different localhost URLs:\n- iOS Simulator: localhost works directly\n- Android Emulator: needs 10.0.2.2 (Android's alias for host loopback)\n- Physical device: needs machine's local network IP (documented)\n\n## Conditional Generation Logic\n- QueryProvider: Always generated\n- src/api/: Only when API module is selected\n- src/config/env.ts: Only when API module is selected\n- app.config.ts: Always (replaces app.json)\n- .env.example: Only when API module is selected\n\n## Dependencies\n- Depends on Phase 2 (api-client package must exist)\n- Can be done in parallel with Phase 3 (Web Integration)\n\n## Deliverables\n- templates/apps/mobile/src/providers/QueryProvider.tsx.template\n- templates/apps/mobile/src/api/index.ts.template (conditional)\n- templates/apps/mobile/src/config/env.ts.template (conditional)\n- templates/apps/mobile/app.config.ts.template (replaces app.json)\n- templates/apps/mobile/App.tsx.template (two variants)\n- templates/apps/mobile/.env.example.template (conditional)\n- Updated templates/apps/mobile/package.json.template","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:47:28.108585-06:00","updated_at":"2025-12-07T14:16:27.086532-06:00","closed_at":"2025-12-07T14:16:27.086532-06:00"}
{"id":"turbokit-pzb","title":"Update API package.json.template with wrangler dependencies and scripts","description":"## Task\nUpdate API package.json.template with wrangler dependencies and scripts.\n\n## File Location\ntemplates/apps/api/package.json.template\n\n## Current State (for reference)\n```json\n{\n  \"name\": \"@{{scope}}/api\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"bun --watch src/index.ts\",\n    \"start\": \"bun src/index.ts\",\n    \"build\": \"bun build src/index.ts --outdir dist --target bun\",\n    \"typecheck\": \"tsc --noEmit\"\n  },\n  \"dependencies\": {\n    \"hono\": \"^4.6.0\",\n    \"@{{scope}}/config\": \"workspace:*\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^5.5.0\",\n    \"@types/bun\": \"^1.1.0\"\n  }\n}\n```\n\n## Updated Template Content\n```json\n{\n  \"name\": \"@{{scope}}/api\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"wrangler dev\",\n    \"deploy\": \"wrangler deploy\",\n    \"tail\": \"wrangler tail\",\n    \"typecheck\": \"tsc --noEmit\",\n    \"lint\": \"eslint src\"\n  },\n  \"dependencies\": {\n    \"hono\": \"^4.6.0\",\n    \"@{{scope}}/config\": \"workspace:*\"\n  },\n  \"devDependencies\": {\n    \"@cloudflare/workers-types\": \"^4.20241127.0\",\n    \"typescript\": \"{{typescriptVersion}}\",\n    \"wrangler\": \"^3.91.0\"\n  }\n}\n```\n\n## Key Changes\n1. **Scripts**: Replace bun commands with wrangler commands\n   - `dev`: `wrangler dev` (starts local dev server with hot reload)\n   - `deploy`: `wrangler deploy` (deploys to Cloudflare Workers)\n   - `tail`: `wrangler tail` (view production logs)\n   - Keep `typecheck` and add `lint` for CI\n   - Remove `start` and `build` scripts (wrangler handles these)\n\n2. **DevDependencies**: Add Cloudflare tooling\n   - `wrangler`: Cloudflare's CLI for Workers\n   - `@cloudflare/workers-types`: TypeScript types for Workers runtime\n   - Remove `@types/bun` (no longer running on Bun)\n\n3. **Dependencies**: Keep existing structure\n   - `@{{scope}}/config` stays in dependencies (matches current template)\n   - Use `{{typescriptVersion}}` variable for consistency\n\n## Script Details\n\n### wrangler dev\n- Starts a local dev server (configured by wrangler.toml)\n- Hot reloads on file changes\n- Uses port 3001 (from wrangler.toml)\n\n### wrangler deploy\n- Deploys to Cloudflare Workers\n- First deploy creates the worker\n- Subsequent deploys update it\n\n### wrangler tail\n- Streams production logs to your terminal\n- Useful for debugging production issues\n\n## Acceptance Criteria\n- [ ] Scripts use wrangler commands\n- [ ] wrangler added to devDependencies\n- [ ] @cloudflare/workers-types added\n- [ ] @types/bun removed (no longer needed)\n- [ ] @{{scope}}/config in dependencies (matching current template)\n- [ ] Uses {{typescriptVersion}} variable\n- [ ] Valid JSON syntax","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:12.564649-06:00","updated_at":"2025-12-07T14:08:21.977098-06:00","closed_at":"2025-12-07T14:08:21.977098-06:00"}
{"id":"turbokit-q2d","title":"Implement template copying logic (src/generator/copyTemplate.ts)","description":"## Task\nImplement template copying logic that recursively copies template directories.\n\n## API Design\n```typescript\ninterface CopyOptions {\n  // Variables for replacement\n  variables: TemplateVariables;\n  // Files/dirs to skip\n  exclude?: string[];\n  // Only copy these (if specified)\n  include?: string[];\n  // Transform file names (remove .template extension)\n  transformFileName?: (name: string) =\u003e string;\n}\n\nasync function copyTemplate(\n  templateDir: string,\n  destDir: string,\n  options: CopyOptions\n): Promise\u003cstring[]\u003e; // Returns list of created files\n```\n\n## Implementation Notes\n- Recursively walk template directory\n- Apply variable replacement to file contents\n- Remove .template extension from file names\n- Skip files not relevant to selected modules\n- Return list of files for dry-run display\n\n## File Location\nsrc/generator/copyTemplate.ts\n\n## Acceptance Criteria\n- [ ] Recursive directory copying works\n- [ ] Variable replacement applied to contents\n- [ ] .template extension removed\n- [ ] Returns accurate file list\n- [ ] Handles binary files (don't transform)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:15.220801-06:00","updated_at":"2025-11-26T22:36:25.432806-06:00","closed_at":"2025-11-26T22:36:25.432806-06:00","dependencies":[{"issue_id":"turbokit-q2d","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:15.222407-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-q2d","depends_on_id":"turbokit-92w","type":"blocks","created_at":"2025-11-26T21:40:15.22286-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-q2d","depends_on_id":"turbokit-y2k","type":"blocks","created_at":"2025-11-26T21:40:15.223417-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-q2d","depends_on_id":"turbokit-4nf","type":"blocks","created_at":"2025-11-26T21:48:52.387124-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-qdp","title":"Update turbo.json.template with deploy task","description":"## Task\nAdd deploy task to turbo.json for API deployment pipeline.\n\n## File Location\ntemplates/root/turbo.json.template\n\n## Current State (actual file content)\n```json\n{\n  \"$schema\": \"https://turbo.build/schema.json\",\n  \"tasks\": {\n    \"build\": {\n      \"dependsOn\": [\"^build\"],\n      \"outputs\": [\"dist/**\"]\n    },\n    \"dev\": {\n      \"cache\": false,\n      \"persistent\": true\n    },\n    \"lint\": {\n      \"dependsOn\": []\n    },\n    \"test\": {\n      \"dependsOn\": [\"build\"]\n    },\n    \"typecheck\": {\n      \"dependsOn\": []\n    }\n  }\n}\n```\n\n## Updated Template Content\n```json\n{\n  \"$schema\": \"https://turbo.build/schema.json\",\n  \"tasks\": {\n    \"build\": {\n      \"dependsOn\": [\"^build\"],\n      \"outputs\": [\"dist/**\"]\n    },\n    \"deploy\": {\n      \"dependsOn\": [\"^build\"],\n      \"cache\": false\n    },\n    \"dev\": {\n      \"cache\": false,\n      \"persistent\": true\n    },\n    \"lint\": {\n      \"dependsOn\": []\n    },\n    \"test\": {\n      \"dependsOn\": [\"build\"]\n    },\n    \"typecheck\": {\n      \"dependsOn\": []\n    }\n  }\n}\n```\n\n## Task Configuration Details\n- **dependsOn: [\"^build\"]**: Ensures dependencies are built first before deploying\n- **cache: false**: Deployments should never be cached (always run fresh)\n\n## Why Deploy Task is Needed\nThe root package.json will have a script:\n```json\n\"deploy:api\": \"turbo deploy --filter=@{{scope}}/api\"\n```\n\nThis requires the `deploy` task to be defined in turbo.json. Without it, turbo will error.\n\n## Acceptance Criteria\n- [ ] deploy task added to tasks object\n- [ ] dependsOn includes ^build\n- [ ] cache set to false\n- [ ] Valid JSON syntax\n- [ ] Maintains existing task order/structure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:48:58.811412-06:00","updated_at":"2025-12-07T14:16:30.501104-06:00","closed_at":"2025-12-07T14:16:30.501104-06:00"}
{"id":"turbokit-qgk","title":"API Integration - End-to-end type-safe API client integration for web and mobile apps","description":"## Overview\nEnable seamless integration between the API (Hono on Cloudflare Workers) and client apps (mobile and web) in generated projects.\n\n## Goals\n1. **Cloudflare Workers deployment** - API should be ready for CF Workers out of the box\n2. **Type-safe API client** - Mobile/web apps should have typed API calls via Hono RPC\n3. **Environment-aware configuration** - Support local dev, staging, production URLs\n4. **Developer experience** - Easy local development with all apps running together\n\n## Implementation Phases\n\nThis epic is broken down into 6 phases. **Phases 1-5 create templates** and can be partially parallelized. **Phase 6 updates the generator** to use those templates conditionally.\n\n### Execution Order\n\n```\nPhase 1 (turbokit-zuk) ─┐\n                        ├──\u003e Phase 2 (turbokit-11m) ─┬──\u003e Phase 3 (turbokit-mk8) ──┐\n                        │                            └──\u003e Phase 4 (turbokit-pxg) ──┼──\u003e Phase 6 (turbokit-54u)\n                        │                                                          │\nPhase 5 (turbokit-9np) ────────────────────────────────────────────────────────────┘\n```\n\n**Parallelization opportunities:**\n- Phase 1 tasks (4 tasks) can all run in parallel\n- Phases 3, 4, and 5 can run in parallel after Phase 2 completes\n- Phase 6 must wait for all template phases to complete\n\n### Phase 1: API Cloudflare Workers Migration (turbokit-zuk)\nConvert the API from Bun server to Cloudflare Workers:\n- Add wrangler.toml template\n- Update API index.ts with CORS and typed exports\n- Update package.json with wrangler scripts\n- Update tsconfig.json for Workers types\n\n### Phase 2: Shared API Client Package (turbokit-11m)\nCreate the @scope/api-client package:\n- Hono RPC client factory (client.ts)\n- TanStack Query hooks factory (hooks.ts)\n- Public exports (index.ts)\n- Package configuration\n\n### Phase 3: Web App TanStack Query Integration (turbokit-mk8)\nAdd API client integration to web app:\n- QueryProvider component\n- API client setup (conditional)\n- App.tsx variants (with/without API demo)\n- Environment configuration\n\n### Phase 4: Mobile App TanStack Query Integration (turbokit-pxg)\nAdd API client integration to mobile app:\n- QueryProvider component\n- API client setup with platform-aware URLs (conditional)\n- App.tsx variants (with/without API demo)\n- app.config.ts to replace app.json\n\n### Phase 5: Root Configuration Updates (turbokit-9np)\nUpdate root configuration:\n- turbo.json deploy task\n- Convenience scripts (dev:api, dev:web, etc.)\n- README documentation\n\n### Phase 6: Generator Conditional Logic (turbokit-54u)\nUpdate generator for conditional file handling:\n- Conditional file copying\n- Template variant selection\n- Conditional dependency injection\n- app.json -\u003e app.config.ts migration\n\n## Key Design Decisions\n\n### Type Sharing\nTypes are shared via direct import from @scope/api, not a separate types package.\nThis is enabled by Hono's `typeof app` pattern and workspace:* dependencies.\n\n### Conditional Generation\n- `packages/api-client/`: Only when API selected\n- `apps/*/src/api/`: Only when API selected\n- `apps/*/providers/QueryProvider.tsx`: Always (TanStack Query useful beyond our API)\n- `.env.example`: Only when API selected\n\n### Template Variants\nFiles with API-specific code use the `.with-api.` naming convention:\n- `App.tsx.template` (default, no API)\n- `App.with-api.tsx.template` (with API integration)\n\nThe generator selects the appropriate variant based on module selection.\n\n### Platform-Aware Mobile URLs\nMobile apps automatically use the correct localhost:\n- iOS Simulator: `http://localhost:3001`\n- Android Emulator: `http://10.0.2.2:3001` (Android's host loopback alias)\n- Physical devices: Set via API_URL env var\n\n## Success Criteria\n- [ ] Local development works out of the box with `bun run dev`\n- [ ] Types flow end-to-end from API to clients with zero manual sync\n- [ ] Android emulator automatically uses correct localhost alias\n- [ ] API deploys to Cloudflare Workers with `bun run deploy:api`\n- [ ] Generator correctly includes/excludes files based on module selection\n- [ ] E2E tests verify all scenarios","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:44:24.071215-06:00","updated_at":"2025-12-07T20:09:29.429934-06:00","closed_at":"2025-12-07T20:09:29.429934-06:00"}
{"id":"turbokit-qow","title":"Update API src/index.ts.template with CORS and typed exports for RPC","description":"## Task\nUpdate the API index.ts template to enable Hono RPC type inference and add CORS middleware.\n\n## File Location\ntemplates/apps/api/src/index.ts.template\n\n## Current State (for reference)\n```typescript\nimport { Hono } from 'hono';\n\nconst app = new Hono();\n\napp.get('/health', (c) =\u003e c.json({ status: 'ok', timestamp: new Date().toISOString() }));\napp.get('/', (c) =\u003e c.json({ message: 'Hello from {{projectName}} API' }));\n\nexport default {\n  port: 3001,\n  fetch: app.fetch,\n};\n```\n\n## Updated Template Content\n```typescript\nimport { Hono } from 'hono';\nimport { cors } from 'hono/cors';\n\n// Define app with typed routes for RPC client\n// IMPORTANT: Routes must be chained for proper type inference\nconst app = new Hono()\n  .use('*', cors())\n  .get('/health', (c) =\u003e {\n    return c.json({ \n      status: 'ok', \n      timestamp: new Date().toISOString() \n    });\n  })\n  .get('/', (c) =\u003e {\n    return c.json({ \n      message: 'Hello from {{projectName}} API' \n    });\n  });\n\n// Export type for RPC client - this enables end-to-end type safety\nexport type AppType = typeof app;\n\nexport default app;\n```\n\n## Key Changes from Current Template\n1. **Add CORS middleware** - Required for web/mobile clients to call API\n2. **Chain route definitions** - Critical for Hono RPC type inference\n3. **Export AppType** - Enables typed client in api-client package\n4. **Simplify export** - Remove port/fetch wrapper (Cloudflare Workers handles this via wrangler.toml)\n\n## Why Chaining Matters (Critical Knowledge)\nHono RPC requires chained route definitions to properly infer types:\n```typescript\n// GOOD - types are inferred through the chain\nconst app = new Hono().get('/foo', ...).post('/bar', ...);\ntype AppType = typeof app; // Has full route type info\n\n// BAD - types are lost with separate statements  \nconst app = new Hono();\napp.get('/foo', ...);\napp.post('/bar', ...);\ntype AppType = typeof app; // Only has base Hono type, no routes\n```\n\n## Breaking Change Note\nThe export format changes from `{ port, fetch }` to just `app`. This works because:\n- Cloudflare Workers: wrangler.toml configures the port\n- Local dev: wrangler dev handles it\n- The hc client only needs the app type, not the port\n\n## Acceptance Criteria\n- [ ] CORS middleware applied globally\n- [ ] Routes are chained (single statement) for type inference\n- [ ] AppType exported for RPC clients\n- [ ] Health endpoint returns JSON with status and timestamp\n- [ ] Export is the app directly (not wrapped object)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:45:04.285612-06:00","updated_at":"2025-12-07T14:08:20.621094-06:00","closed_at":"2025-12-07T14:08:20.621094-06:00"}
{"id":"turbokit-qqi","title":"Implement file writer (src/generator/writeFiles.ts)","description":"## Task\nImplement the file writer that creates files with proper permissions.\n\n## API Design\n```typescript\ninterface WriteOptions {\n  // Make file executable (for scripts)\n  executable?: boolean;\n  // Create parent directories\n  createDirs?: boolean;\n  // Overwrite existing\n  overwrite?: boolean;\n}\n\nasync function writeFile(\n  path: string,\n  content: string,\n  options?: WriteOptions\n): Promise\u003cvoid\u003e;\n\n// Write multiple files atomically\nasync function writeFiles(\n  files: Array\u003c{ path: string; content: string; options?: WriteOptions }\u003e\n): Promise\u003cvoid\u003e;\n```\n\n## Implementation Notes\n- Use Bun.write for file writing\n- chmod +x for executable files (pre-commit hook, bin)\n- Create parent directories automatically\n- Consider atomic writes (write to temp, then rename)\n\n## File Location\nsrc/generator/writeFiles.ts\n\n## Acceptance Criteria\n- [ ] Files written with correct content\n- [ ] Executable permission set when needed\n- [ ] Parent directories created\n- [ ] Handles existing files based on options","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:16.880216-06:00","updated_at":"2025-11-26T22:35:00.466116-06:00","closed_at":"2025-11-26T22:35:00.466116-06:00","dependencies":[{"issue_id":"turbokit-qqi","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:16.881962-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-qqi","depends_on_id":"turbokit-92w","type":"blocks","created_at":"2025-11-26T21:40:16.882522-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-r9i","title":"Remove app.json.template and migrate to app.config.ts.template","description":"## Task\nRemove the static app.json template and ensure app.config.ts is used instead.\n\n## Changes Required\n\n### 1. Remove Old Template\nDelete: templates/apps/mobile/app.json.template\n\n### 2. Ensure New Template Exists\nVerify: templates/apps/mobile/app.config.ts.template (created in earlier task)\n\n### 3. Update Generator Logic\nEnsure the generator:\n- Does NOT copy app.json.template\n- DOES copy app.config.ts.template\n- Handles the file extension change (.ts vs .json)\n\n### 4. Update File Extension Handling\napp.config.ts.template should be copied as app.config.ts (not app.config.ts.template).\n\nThe existing template processing should handle this if it strips .template suffix.\n\n## Why This Matters\n- app.json is static, cannot read environment variables\n- app.config.ts allows process.env access for API_URL\n- Required for the mobile platform-aware URL configuration\n\n## Acceptance Criteria\n- [ ] app.json.template removed from templates\n- [ ] app.config.ts.template exists and is copied\n- [ ] Generated project has app.config.ts (not app.json)\n- [ ] Expo recognizes the config file","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:50:21.522764-06:00","updated_at":"2025-12-07T19:14:07.671043-06:00","closed_at":"2025-12-07T19:14:07.671043-06:00","dependencies":[{"issue_id":"turbokit-r9i","depends_on_id":"turbokit-cxy","type":"blocks","created_at":"2025-12-07T13:50:21.525039-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-rp4","title":"Create Web app template (React + Vite + vitest + testing-library)","description":"## Task\nCreate the Web app template using React + Vite with testing setup.\n\n## Files to Create\n```\ntemplates/apps/web/\n  package.json.template\n  tsconfig.json.template\n  vite.config.ts.template\n  index.html.template\n  src/\n    main.tsx.template\n    App.tsx.template\n    App.test.tsx.template\n    vite-env.d.ts\n```\n\n## package.json Dependencies\n- react, react-dom\n- @{{scope}}/ui (workspace:*)\n- @{{scope}}/config (workspace:*)\n\n## devDependencies\n- vite, @vitejs/plugin-react\n- vitest, @testing-library/react, @testing-library/jest-dom\n- typescript\n\n## Scripts\n- dev: vite\n- build: vite build\n- preview: vite preview\n- test: vitest run\n- lint: eslint src\n- typecheck: tsc --noEmit\n\n## tsconfig.json\n- Extends @{{scope}}/config/tsconfig.react.json\n\n## Implementation Notes\n- Use Vite's React template as reference\n- Include example test with @testing-library\n- Configure vitest in vite.config.ts\n\n## Acceptance Criteria\n- [ ] `bun dev` starts Vite dev server\n- [ ] `bun build` produces dist folder\n- [ ] `bun test` runs vitest tests\n- [ ] TypeScript compiles without errors\n- [ ] Can import from @{{scope}}/ui","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:26.469518-06:00","updated_at":"2025-11-26T23:04:40.529153-06:00","closed_at":"2025-11-26T23:04:40.529153-06:00","dependencies":[{"issue_id":"turbokit-rp4","depends_on_id":"turbokit-e8m","type":"related","created_at":"2025-11-26T21:40:26.471447-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-rp4","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:26.471983-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-rp4","depends_on_id":"turbokit-v8t","type":"blocks","created_at":"2025-11-26T21:48:58.48151-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-s5i","title":"Implement dry-run mode in generator","description":"## Task\nImplement dry-run mode that prints the file tree without writing files.\n\n## Output Format\n```\nDry run - files that would be created:\n\nmy-project/\n├── package.json\n├── tsconfig.json\n├── turbo.json\n├── .gitignore\n├── .editorconfig\n├── README.md\n├── AGENTS.md\n├── apps/\n│   ├── web/\n│   │   ├── package.json\n│   │   ├── tsconfig.json\n│   │   ├── vite.config.ts\n│   │   └── src/\n│   │       ├── App.tsx\n│   │       └── main.tsx\n│   └── api/\n│       ├── package.json\n│       └── src/\n│           └── index.ts\n├── packages/\n│   ├── config/\n│   │   └── ...\n│   └── ui/\n│       └── ...\n└── .github/\n    └── workflows/\n        └── ci.yml\n\nTotal: 42 files\n```\n\n## Implementation Notes\n- Use copyTemplate in \"list mode\" to get file paths\n- Build tree structure from flat file list\n- Use box-drawing characters for tree\n- Show total file count\n\n## File Location\nAdd to src/generator/generate.ts or separate src/cli/dryRun.ts\n\n## Signature\n```typescript\nfunction printDryRun(config: ProjectConfig): void;\n```\n\n## Acceptance Criteria\n- [ ] Accurate file tree displayed\n- [ ] Tree formatting is correct\n- [ ] Shows only files for selected modules\n- [ ] Total count accurate\n- [ ] No files actually written","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:40:22.016543-06:00","updated_at":"2025-11-26T22:38:05.47899-06:00","closed_at":"2025-11-26T22:38:05.47899-06:00","dependencies":[{"issue_id":"turbokit-s5i","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:22.018746-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-s5i","depends_on_id":"turbokit-uxl","type":"blocks","created_at":"2025-11-26T21:48:52.824022-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-sfn","title":"Add shebang and make bin executable for global install","description":"## Task\nEnsure the CLI binary is executable with proper shebang.\n\n## bin/create-project.ts\n```typescript\n#!/usr/bin/env bun\n\nimport { main } from '../src/index';\n\nmain(process.argv.slice(2)).catch((error) =\u003e {\n  console.error(error.message);\n  process.exit(1);\n});\n```\n\n## Making Executable\nThe file needs to be executable. Options:\n1. Git: `git update-index --chmod=+x bin/create-project.ts`\n2. npm postinstall script\n3. Build step that sets permissions\n\n## package.json bin Field\n```json\n{\n  \"bin\": {\n    \"create-project\": \"./bin/create-project.ts\"\n  }\n}\n```\n\n## Testing\n```bash\n# Direct execution\n./bin/create-project.ts --help\n\n# Via bun\nbun run bin/create-project.ts --help\n\n# After npm link\ncreate-project --help\n```\n\n## Acceptance Criteria\n- [ ] Shebang line present: #!/usr/bin/env bun\n- [ ] File is executable (chmod +x)\n- [ ] Direct execution works: ./bin/create-project.ts\n- [ ] npm link creates working symlink","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:52.31946-06:00","updated_at":"2025-11-26T23:12:42.367185-06:00","closed_at":"2025-11-26T23:12:42.367185-06:00","dependencies":[{"issue_id":"turbokit-sfn","depends_on_id":"turbokit-2mq","type":"related","created_at":"2025-11-26T21:40:52.321216-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-sfn","depends_on_id":"turbokit-ld5","type":"blocks","created_at":"2025-11-26T21:40:52.321887-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-skr","title":"Create Storybook app template (React + Vite Storybook)","description":"## Task\nCreate the Storybook app template configured to show UI package components.\n\n## Files to Create\n```\ntemplates/apps/storybook/\n  package.json.template\n  tsconfig.json.template\n  .storybook/\n    main.ts.template\n    preview.ts.template\n  src/\n    stories/\n      Button.stories.tsx.template\n```\n\n## package.json Dependencies\n- react, react-dom\n- @{{scope}}/ui (workspace:*)\n- @{{scope}}/config (workspace:*)\n\n## devDependencies\n- @storybook/react-vite\n- @storybook/addon-essentials\n- @storybook/addon-interactions\n- @storybook/blocks\n- storybook\n- vite\n\n## Scripts\n- dev: storybook dev -p 6006\n- build: storybook build\n- typecheck: tsc --noEmit\n\n## .storybook/main.ts Configuration\n- Framework: @storybook/react-vite\n- Stories glob: ../src/**/*.stories.@(ts|tsx)\n- Also find stories in: ../../packages/ui/src/**/*.stories.@(ts|tsx)\n- Essential addons\n\n## Button.stories.tsx\n- Import Button from @{{scope}}/ui\n- Default, Primary, Secondary variants\n- Args playground\n\n## Acceptance Criteria\n- [ ] `bun dev` starts Storybook on port 6006\n- [ ] UI package components appear in sidebar\n- [ ] Stories render correctly\n- [ ] TypeScript compiles without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:29.64377-06:00","updated_at":"2025-11-26T23:04:42.161905-06:00","closed_at":"2025-11-26T23:04:42.161905-06:00","dependencies":[{"issue_id":"turbokit-skr","depends_on_id":"turbokit-e8m","type":"related","created_at":"2025-11-26T21:40:29.645387-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-skr","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:29.64619-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-skr","depends_on_id":"turbokit-okx","type":"blocks","created_at":"2025-11-26T21:48:58.690876-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-tcv","title":"Implement conditional file copying based on module selection","description":"## Task\nAdd logic to the template copier to conditionally include/exclude files based on module selection.\n\n## File Location\nsrc/generator/copyTemplate.ts (extend existing) or new file src/generator/conditionalFiles.ts\n\n## Implementation Design\n\n### Conditional File Registry\nCreate a mapping of files to their conditions:\n```typescript\ninterface ConditionalFile {\n  // Path pattern to match (relative to templates directory)\n  templatePath: string;\n  // When this returns false, skip the file\n  condition: (modules: ModuleSelection) =\u003e boolean;\n}\n\nconst conditionalFiles: ConditionalFile[] = [\n  // Entire api-client package (directory)\n  { templatePath: \"packages/api-client/\", condition: (m) =\u003e m.api },\n  \n  // API-only files in web app\n  { templatePath: \"apps/web/src/api/\", condition: (m) =\u003e m.api },\n  { templatePath: \"apps/web/.env.example.template\", condition: (m) =\u003e m.api },\n  \n  // API-only files in mobile app\n  { templatePath: \"apps/mobile/src/api/\", condition: (m) =\u003e m.api },\n  { templatePath: \"apps/mobile/src/config/\", condition: (m) =\u003e m.api },\n  { templatePath: \"apps/mobile/.env.example.template\", condition: (m) =\u003e m.api },\n  \n  // Variant files (always skip - variant selection handles these)\n  { templatePath: \".with-api.\", condition: () =\u003e false },\n  \n  // Storybook app\n  { templatePath: \"apps/storybook/\", condition: (m) =\u003e m.storybook },\n  \n  // Mobile app\n  { templatePath: \"apps/mobile/\", condition: (m) =\u003e m.mobile },\n  \n  // Web app\n  { templatePath: \"apps/web/\", condition: (m) =\u003e m.web },\n  \n  // API app\n  { templatePath: \"apps/api/\", condition: (m) =\u003e m.api },\n  \n  // UI package\n  { templatePath: \"packages/ui/\", condition: (m) =\u003e m.ui },\n];\n```\n\n### Skip Logic\nDuring template copying, check each file against the registry:\n```typescript\nfunction shouldCopyFile(templatePath: string, modules: ModuleSelection): boolean {\n  // Check if this file matches any conditional pattern\n  for (const conditional of conditionalFiles) {\n    if (templatePath.includes(conditional.templatePath)) {\n      return conditional.condition(modules);\n    }\n  }\n  \n  // If no condition found, always copy (default behavior)\n  return true;\n}\n```\n\n## Integration with Existing copyTemplate\nThe copyTemplate function (src/generator/copyTemplate.ts) currently walks the template directory recursively. Modify it to:\n1. Check shouldCopyFile() before processing each file/directory\n2. Log skipped files in verbose mode\n3. Skip entire directories when condition is false (optimization)\n\n## Pattern Matching Priority\nMore specific patterns should be checked first. The implementation should check patterns in order and return on first match:\n1. Variant patterns (`.with-api.`) - always skip\n2. Specific file patterns (`apps/web/src/api/index.ts.template`)\n3. Directory patterns (`apps/web/`)\n\n## Edge Cases to Handle\n- Entire directories (e.g., `apps/storybook/`) - skip entire subtree\n- Variant files (e.g., `App.with-api.tsx.template`) - always skip\n- Nested conditional directories (e.g., `mobile/src/api/`) - each checked\n- Config package - always included (no condition)\n\n## Verbose Logging\n```\n[verbose] Skipping apps/web/src/api/ (api module not selected)\n[verbose] Skipping App.with-api.tsx.template (variant file)\n```\n\n## Acceptance Criteria\n- [ ] Conditional file registry defined and exported\n- [ ] Files/directories correctly skipped when condition is false\n- [ ] Works with existing template copying flow in copyTemplate.ts\n- [ ] Verbose logging shows which files were skipped and why\n- [ ] Variant files (*.with-api.*) always skipped by this logic\n- [ ] Entire directories can be conditionally skipped\n- [ ] Config package always included (no condition)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:49:40.690354-06:00","updated_at":"2025-12-07T19:14:01.006555-06:00","closed_at":"2025-12-07T19:14:01.006555-06:00","dependencies":[{"issue_id":"turbokit-tcv","depends_on_id":"turbokit-mk8","type":"blocks","created_at":"2025-12-07T13:49:40.691803-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-tcv","depends_on_id":"turbokit-pxg","type":"blocks","created_at":"2025-12-07T13:49:40.692754-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-tcv","depends_on_id":"turbokit-9np","type":"blocks","created_at":"2025-12-07T13:49:40.693427-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-urz","title":"Create wrangler.toml.template for Cloudflare Workers configuration","description":"## Task\nCreate the wrangler.toml template file for Cloudflare Workers configuration.\n\n## File Location\ntemplates/apps/api/wrangler.toml.template\n\n## Template Content\n```toml\nname = \"{{projectName}}-api\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-11-01\"\n\n[dev]\nport = 3001\n\n# Uncomment to add bindings:\n# [[d1_databases]]\n# binding = \"DB\"\n# database_name = \"{{projectName}}-db\"\n# database_id = \"your-database-id\"\n\n# [[kv_namespaces]]\n# binding = \"KV\"\n# id = \"your-kv-id\"\n```\n\n## Why This File\nwrangler.toml replaces the previous Bun server setup. It tells Cloudflare Workers:\n- **name**: The worker name (used in deployment URLs)\n- **main**: Entry point file\n- **compatibility_date**: Which Workers runtime features to use\n- **[dev] port**: Local development port (3001 to avoid conflicts with web on 3000)\n\n## Migration from Current Setup\nCurrently the API exports:\n```typescript\nexport default { port: 3001, fetch: app.fetch };\n```\n\nWith wrangler.toml, we export just the app:\n```typescript\nexport default app;\n```\n\nThe port configuration moves to wrangler.toml, and wrangler handles the rest.\n\n## Implementation Notes\n- Use recent compatibility_date (2024-11-01 or later)\n- Port 3001 avoids conflicts with typical web dev servers (3000)\n- Include commented examples for D1 and KV bindings as developer guidance\n- {{projectName}} variable will be replaced during generation\n\n## Development Commands (defined in package.json)\n```bash\nbun run dev      # wrangler dev (starts local server with hot reload)\nbun run deploy   # wrangler deploy (deploys to Cloudflare)\nbun run tail     # wrangler tail (view production logs)\n```\n\n## Acceptance Criteria\n- [ ] Valid TOML syntax  \n- [ ] Correct variable placeholders ({{projectName}})\n- [ ] Commented binding examples included for common use cases\n- [ ] Compatible with wrangler v3+\n- [ ] Port 3001 configured for local dev","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:44:54.058145-06:00","updated_at":"2025-12-07T14:08:19.681621-06:00","closed_at":"2025-12-07T14:08:19.681621-06:00"}
{"id":"turbokit-uxl","title":"Implement main generator orchestrator (src/generator/generate.ts)","description":"## Task\nImplement the main generator orchestrator that coordinates all generation steps.\n\n## Generation Flow\n```typescript\nasync function generate(\n  config: ProjectConfig,\n  flags: CLIFlags,\n  logger: Logger\n): Promise\u003cvoid\u003e {\n  const steps = [\n    'Creating project directory',\n    'Copying root templates',\n    'Setting up config package',\n    'Setting up selected apps',\n    'Setting up UI package', // if selected\n    'Installing dependencies',\n    'Setting up Husky',\n    'Initializing git repository',\n  ];\n  \n  // 1. Create project directory\n  // 2. Copy root templates with variable replacement\n  // 3. Copy packages/config templates\n  // 4. For each selected app, copy its templates\n  // 5. If ui selected, copy packages/ui templates\n  // 6. Run bun install\n  // 7. Setup Husky\n  // 8. Git init + initial commit\n}\n```\n\n## Implementation Notes\n- Use logger.step() for progress indication\n- Skip steps based on module selection\n- Handle errors at each step gracefully\n- Consider rollback on failure (delete partial project)\n\n## File Location\nsrc/generator/generate.ts\n\n## Dependencies\n- copyTemplate.ts\n- applyVariables.ts\n- writeFiles.ts\n- installDeps.ts\n- setupHusky.ts\n- initGit.ts\n\n## Acceptance Criteria\n- [ ] All steps execute in order\n- [ ] Progress shown via logger\n- [ ] Conditional steps based on config\n- [ ] Errors handled gracefully\n- [ ] Clean rollback on failure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:20.901903-06:00","updated_at":"2025-11-26T22:38:05.436334-06:00","closed_at":"2025-11-26T22:38:05.436334-06:00","dependencies":[{"issue_id":"turbokit-uxl","depends_on_id":"turbokit-fay","type":"related","created_at":"2025-11-26T21:40:20.90361-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-uxl","depends_on_id":"turbokit-q2d","type":"blocks","created_at":"2025-11-26T21:48:52.652572-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-uxl","depends_on_id":"turbokit-qqi","type":"blocks","created_at":"2025-11-26T21:48:52.715692-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-uxl","depends_on_id":"turbokit-4nf","type":"blocks","created_at":"2025-11-26T21:48:52.767346-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-v8t","title":"Create config package template with tsconfig.base.json","description":"## Task\nCreate the config package with tsconfig.base.json as the foundation for all TypeScript configuration.\n\n## Files to Create\n```\ntemplates/packages/config/\n  package.json.template\n  tsconfig.base.json\n```\n\n## package.json\n```json\n{\n  \"name\": \"@{{scope}}/config\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"exports\": {\n    \"./tsconfig.base.json\": \"./tsconfig.base.json\",\n    \"./tsconfig.react.json\": \"./tsconfig.react.json\",\n    \"./tsconfig.node.json\": \"./tsconfig.node.json\",\n    \"./eslint-config-custom\": \"./eslint-config-custom.cjs\",\n    \"./prettier\": \"./prettier.config.cjs\"\n  }\n}\n```\n\n## tsconfig.base.json\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"bundler\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": true,\n    \"declaration\": true,\n    \"declarationMap\": true\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] tsconfig.base.json has all required options\n- [ ] package.json exports are correct\n- [ ] Other apps can extend this config","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:33.665883-06:00","updated_at":"2025-11-26T23:00:53.498235-06:00","closed_at":"2025-11-26T23:00:53.498235-06:00","dependencies":[{"issue_id":"turbokit-v8t","depends_on_id":"turbokit-5ml","type":"related","created_at":"2025-11-26T21:40:33.668257-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-v8t","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:33.668902-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-vzs","title":"E2E test: API integration generates correctly and types flow end-to-end","description":"## Task\nCreate end-to-end tests verifying the API integration feature works correctly.\n\n## File Location\ne2e/api-integration.test.ts (new file alongside existing e2e/generate.test.ts)\n\n## Test Scenarios\n\n### 1. Generate Project With API Selected\n```typescript\nimport { describe, it, expect, beforeAll, afterAll } from \"bun:test\";\nimport { generate } from \"../src/generator/generate\";\nimport { exists, readFile } from \"../src/utils/fs\";\nimport { rm } from \"node:fs/promises\";\n\ndescribe(\"API Integration Generation\", () =\u003e {\n  const testDir = \"/tmp/turbokit-e2e-api\";\n\n  afterAll(async () =\u003e {\n    await rm(testDir, { recursive: true, force: true });\n  });\n\n  it(\"generates API integration files when API module selected\", async () =\u003e {\n    await generate({\n      projectName: \"e2e-api-test\",\n      projectPath: `${testDir}/with-api`,\n      scope: \"e2e-api-test\",\n      modules: { web: true, api: true, ui: true, mobile: false, storybook: false },\n    });\n\n    // API app files\n    expect(await exists(`${testDir}/with-api/apps/api/wrangler.toml`)).toBe(true);\n    expect(await exists(`${testDir}/with-api/apps/api/src/index.ts`)).toBe(true);\n    \n    // api-client package\n    expect(await exists(`${testDir}/with-api/packages/api-client/src/client.ts`)).toBe(true);\n    expect(await exists(`${testDir}/with-api/packages/api-client/src/hooks.ts`)).toBe(true);\n    \n    // Web app API integration\n    expect(await exists(`${testDir}/with-api/apps/web/src/api/index.ts`)).toBe(true);\n    expect(await exists(`${testDir}/with-api/apps/web/src/providers/QueryProvider.tsx`)).toBe(true);\n    expect(await exists(`${testDir}/with-api/apps/web/.env.example`)).toBe(true);\n    \n    // App.tsx should have API integration code\n    const appContent = await readFile(`${testDir}/with-api/apps/web/src/App.tsx`);\n    expect(appContent).toContain(\"useHealth\");\n  });\n});\n```\n\n### 2. Generate Project Without API Selected\n```typescript\nit(\"excludes API files when API module not selected\", async () =\u003e {\n  await generate({\n    projectName: \"e2e-no-api\",\n    projectPath: `${testDir}/without-api`,\n    scope: \"e2e-no-api\",\n    modules: { web: true, api: false, ui: true, mobile: false, storybook: false },\n  });\n\n  // These should NOT exist\n  expect(await exists(`${testDir}/without-api/packages/api-client`)).toBe(false);\n  expect(await exists(`${testDir}/without-api/apps/web/src/api`)).toBe(false);\n  expect(await exists(`${testDir}/without-api/apps/web/.env.example`)).toBe(false);\n  \n  // QueryProvider SHOULD exist (always generated)\n  expect(await exists(`${testDir}/without-api/apps/web/src/providers/QueryProvider.tsx`)).toBe(true);\n  \n  // App.tsx should NOT have API code\n  const appContent = await readFile(`${testDir}/without-api/apps/web/src/App.tsx`);\n  expect(appContent).not.toContain(\"useHealth\");\n});\n```\n\n### 3. TypeScript Types Compile Successfully\n```typescript\nit(\"types compile successfully with API integration\", async () =\u003e {\n  await generate({\n    projectName: \"e2e-types\",\n    projectPath: `${testDir}/types-test`,\n    scope: \"e2e-types\",\n    modules: { web: true, api: true, ui: true, mobile: false, storybook: false },\n  });\n  \n  // Install deps and run typecheck\n  const install = Bun.spawnSync([\"bun\", \"install\"], { cwd: `${testDir}/types-test` });\n  expect(install.exitCode).toBe(0);\n  \n  const typecheck = Bun.spawnSync([\"bun\", \"run\", \"typecheck\"], { cwd: `${testDir}/types-test` });\n  expect(typecheck.exitCode).toBe(0);\n});\n```\n\n### 4. Mobile Platform-Aware Configuration\n```typescript\nit(\"generates mobile with platform-aware API config\", async () =\u003e {\n  await generate({\n    projectName: \"e2e-mobile\",\n    projectPath: `${testDir}/mobile-test`,\n    scope: \"e2e-mobile\",\n    modules: { mobile: true, api: true, web: false, ui: false, storybook: false },\n  });\n\n  // app.config.ts should exist (not app.json)\n  expect(await exists(`${testDir}/mobile-test/apps/mobile/app.config.ts`)).toBe(true);\n  expect(await exists(`${testDir}/mobile-test/apps/mobile/app.json`)).toBe(false);\n  \n  // Platform-aware env.ts should exist\n  expect(await exists(`${testDir}/mobile-test/apps/mobile/src/config/env.ts`)).toBe(true);\n  \n  // env.ts should have Android emulator handling\n  const envContent = await readFile(`${testDir}/mobile-test/apps/mobile/src/config/env.ts`);\n  expect(envContent).toContain(\"10.0.2.2\");\n});\n```\n\n### 5. Variant Template Files Not Copied\n```typescript\nit(\"does not copy variant template files directly\", async () =\u003e {\n  await generate({\n    projectName: \"e2e-variants\",\n    projectPath: `${testDir}/variants-test`,\n    scope: \"e2e-variants\",\n    modules: { web: true, api: true, ui: true, mobile: false, storybook: false },\n  });\n\n  // Variant files should NOT exist in output\n  expect(await exists(`${testDir}/variants-test/apps/web/src/App.with-api.tsx`)).toBe(false);\n  \n  // Regular file SHOULD exist\n  expect(await exists(`${testDir}/variants-test/apps/web/src/App.tsx`)).toBe(true);\n});\n```\n\n## Test Setup\n```typescript\nimport { describe, it, expect, afterAll } from \"bun:test\";\nimport { generate } from \"../src/generator/generate\";\nimport { exists, readFile } from \"../src/utils/fs\";\nimport { rm } from \"node:fs/promises\";\n\nconst testDir = \"/tmp/turbokit-e2e-api\";\n\nafterAll(async () =\u003e {\n  await rm(testDir, { recursive: true, force: true });\n});\n```\n\n## Running Tests\n```bash\nbun test e2e/api-integration.test.ts\n```\n\n## Dependencies\n- All Phase 1-6 tasks must be complete\n- Tests use actual generator (not mocks)\n- Tests run against real file system\n\n## Acceptance Criteria\n- [ ] All test scenarios pass\n- [ ] Tests use actual generator functions\n- [ ] Temporary directories cleaned up after tests\n- [ ] Tests verify both presence AND absence of files\n- [ ] Type checking validates end-to-end type flow\n- [ ] Variant files confirmed not in output","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-07T13:50:35.227355-06:00","updated_at":"2025-12-07T20:09:18.167896-06:00","closed_at":"2025-12-07T20:09:18.167896-06:00","dependencies":[{"issue_id":"turbokit-vzs","depends_on_id":"turbokit-r9i","type":"blocks","created_at":"2025-12-07T13:50:35.228913-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-y2k","title":"Implement path utilities (src/utils/paths.ts)","description":"## Task\nCreate path utility functions for resolving and manipulating file paths.\n\n## API Design\n```typescript\n// Get absolute path to templates directory\nfunction getTemplatesDir(): string;\n\n// Resolve path relative to CWD\nfunction resolveFromCwd(relativePath: string): string;\n\n// Convert project name to valid directory name\nfunction toValidDirName(name: string): string;\n\n// Get the CLI package root directory\nfunction getPackageRoot(): string;\n\n// Join paths safely\nfunction joinPaths(...paths: string[]): string;\n\n// Get relative path from one path to another\nfunction relativePath(from: string, to: string): string;\n```\n\n## Implementation Notes\n- Use import.meta.dir for package root detection\n- Handle both development and installed package scenarios\n- toValidDirName should kebab-case and remove special chars\n\n## File Location\nsrc/utils/paths.ts\n\n## Acceptance Criteria\n- [ ] getTemplatesDir works in dev and production\n- [ ] Paths work across platforms (use path.join)\n- [ ] toValidDirName handles edge cases","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-26T21:39:59.054-06:00","updated_at":"2025-11-26T22:20:18.44286-06:00","closed_at":"2025-11-26T22:20:18.44286-06:00"}
{"id":"turbokit-yt1","title":"Create mobile .env.example.template for API URL configuration","description":"## Task\nCreate the .env.example template for mobile app API URL configuration.\n\n## File Location\ntemplates/apps/mobile/.env.example.template\n\n## Template Content\n```\n# API URL - defaults to local development\nAPI_URL=http://localhost:3001\n\n# For production builds, use your deployed API URL:\n# API_URL=https://your-api.your-domain.workers.dev\n```\n\n## Implementation Notes\n- No prefix needed (unlike Vite's VITE_ prefix)\n- Read by app.config.ts via dotenv/config\n- localhost:3001 is a placeholder; actual dev URL determined by platform (iOS/Android)\n\n## Physical Device Development\nFor physical devices, developers must set API_URL to their machine's local network IP:\n```\nAPI_URL=http://192.168.1.100:3001\n```\n\nThis should be documented in the generated README.\n\n## Conditional Generation\nThis file is ONLY generated when API module is selected.\n\n## Acceptance Criteria\n- [ ] No env var prefix needed\n- [ ] Default matches API dev port (3001)\n- [ ] Production example in comments","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-07T13:48:31.23539-06:00","updated_at":"2025-12-07T14:16:25.108142-06:00","closed_at":"2025-12-07T14:16:25.108142-06:00","dependencies":[{"issue_id":"turbokit-yt1","depends_on_id":"turbokit-0ok","type":"blocks","created_at":"2025-12-07T13:48:31.236807-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-yyd","title":"Create Mobile app template (Expo + React Native)","description":"## Task\nCreate the Mobile app template using Expo + React Native.\n\n## Files to Create\n```\ntemplates/apps/mobile/\n  package.json.template\n  tsconfig.json.template\n  app.json.template\n  babel.config.js\n  metro.config.js\n  App.tsx.template\n  src/\n    screens/\n      HomeScreen.tsx.template\n```\n\n## package.json Dependencies\n- expo\n- react, react-native\n- expo-status-bar\n- @{{scope}}/config (workspace:*)\n\n## devDependencies\n- @types/react\n- typescript\n\n## Scripts\n- start: expo start\n- android: expo start --android\n- ios: expo start --ios\n- web: expo start --web\n\n## app.json Configuration\n- name: {{projectName}}-mobile\n- slug: {{projectName}}-mobile\n- SDK version: latest stable\n\n## tsconfig.json\n- Extends @{{scope}}/config/tsconfig.react.json\n- Additional RN-specific settings\n\n## Implementation Notes\n- Use Expo's managed workflow\n- Keep it minimal - just enough to demonstrate setup\n- Metro config for monorepo support\n\n## Acceptance Criteria\n- [ ] `bun start` launches Expo\n- [ ] TypeScript compiles without errors\n- [ ] Metro resolves monorepo packages\n- [ ] Works in Expo Go app","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-26T21:40:27.391272-06:00","updated_at":"2025-11-26T23:04:41.030144-06:00","closed_at":"2025-11-26T23:04:41.030144-06:00","dependencies":[{"issue_id":"turbokit-yyd","depends_on_id":"turbokit-e8m","type":"related","created_at":"2025-11-26T21:40:27.393088-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-yyd","depends_on_id":"turbokit-j4b","type":"blocks","created_at":"2025-11-26T21:40:27.393698-06:00","created_by":"erikjohansson"},{"issue_id":"turbokit-yyd","depends_on_id":"turbokit-v8t","type":"blocks","created_at":"2025-11-26T21:48:58.552272-06:00","created_by":"erikjohansson"}]}
{"id":"turbokit-zuk","title":"Phase 1: API Cloudflare Workers Migration","description":"## Overview\nMigrate the API template from Bun runtime to Cloudflare Workers deployment target.\n\n## Scope\n- Update API src/index.ts template with CORS and typed exports for RPC\n- Add wrangler.toml template for Workers configuration\n- Update package.json with wrangler scripts (dev, deploy, tail)\n- Update tsconfig.json for Workers types\n\n## Rationale\n- **User requirement**: APIs will run on Cloudflare Workers\n- **Hono compatibility**: Hono has first-class Cloudflare Workers support\n- **Edge deployment**: Workers provide global edge deployment with low latency\n- **Dev experience**: `wrangler dev` provides hot reload and local testing\n\n## Child Tasks (Execute In Order)\n1. **turbokit-urz**: Create wrangler.toml.template\n   - Configures worker name, entry point, dev port\n   - Includes commented examples for D1/KV bindings\n\n2. **turbokit-qow**: Update API src/index.ts.template\n   - Add CORS middleware for cross-origin requests\n   - **Chain routes** (critical for Hono RPC type inference)\n   - Export `AppType` for typed client\n\n3. **turbokit-pzb**: Update API package.json.template\n   - Replace bun scripts with wrangler commands\n   - Add wrangler and @cloudflare/workers-types deps\n\n4. **turbokit-7gp**: Update API tsconfig.json.template\n   - Add @cloudflare/workers-types to types array\n\n## Key Technical Details\n\n### Route Chaining (Critical!)\nHono RPC requires routes to be chained for type inference:\n```typescript\n// GOOD - types work\nconst app = new Hono().get(\"/a\", ...).get(\"/b\", ...);\n\n// BAD - types broken\nconst app = new Hono();\napp.get(\"/a\", ...);\napp.get(\"/b\", ...);\n```\n\n### Export Format Change\nBefore (Bun): `export default { port: 3001, fetch: app.fetch }`\nAfter (Workers): `export default app`\n\nwrangler.toml handles the port configuration.\n\n## Dependencies\nNone - this is the foundation phase that other phases depend on.\n\n## Success Criteria\n- [ ] `bun run dev` in API app starts wrangler dev server on port 3001\n- [ ] `bun run deploy` deploys to Cloudflare Workers\n- [ ] API exports `AppType` for typed client usage\n- [ ] CORS enabled for web/mobile clients","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-07T13:44:45.063186-06:00","updated_at":"2025-12-07T14:13:04.594346-06:00","closed_at":"2025-12-07T14:13:04.594346-06:00"}
